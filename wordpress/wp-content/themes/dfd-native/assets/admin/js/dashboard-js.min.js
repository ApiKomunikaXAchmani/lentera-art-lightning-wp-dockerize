!function(i){"use strict";i.fn.equalHeightsDestroy=function(){return i(this).css({height:"auto","min-height":"0px"}),this},i.fn.equalHeights=function(e){var t=i.extend({container:null},e),n=0,a=0,e=i(this);return e.css({height:"auto","min-height":"0px"}).each(function(){var e=i(this);e.height()>n&&(n=e.height(),a=e.outerHeight())}).css({height:a,"min-height":a}),null!=t.container&&e.parents(t.container).css({height:a,"min-height":a}),this}}(jQuery),function(o){"use strict";var e=window.dfd_dash||{};(window.dfd_dash=e).eqHeights=function(){o(window).on("load resize",function(){o(".dfd-dashboard-section > .inner").equalHeights()})},e.activateTheme=function(){var i="action=dfd_register_theme";return o("body").on("click",".dfd-get-activation-form",function(e){e.preventDefault(),o(this).removeClass("dfd-get-activation-form").addClass("dfd-submit-activation").parents(".content").find(".front").hide().next(".back").show()}),void o("body").on("click",".dfd-submit-activation:not(.running)",function(e){e.preventDefault();var t=o("#dfd-native-purchase-code"),n=t.val(),e=o(this),a=e.attr("data-redirect");return e.addClass("running"),t.parent().removeClass("validation-error").find(".empty-field").hide().next(".wrong-code").hide(),o(window).trigger("resize"),""==n?(t.addClass("dfd-shake").parent().addClass("validation-error").find(".empty-field").show(),o(window).trigger("resize"),setTimeout(function(){t.removeClass("dfd-shake")},1500)):(i+="&nonce="+ajax_var.nonce+"&code="+n,o.ajax({type:"post",url:ajax_var.url,data:i,complete:function(e){200==e.status&&""!=e.responseText&&("0"==e.responseText?a?location.href=a:location.reload(!0):"invalid-code"==e.responseText&&(t.addClass("dfd-shake").parent().addClass("validation-error").find(".wrong-code").show(),o(window).trigger("resize"),setTimeout(function(){t.removeClass("dfd-shake")},1500)))}})),e.removeClass("running"),!1})},e.deactivateTheme=function(){o("body").on("click",".dfd-deactivate-theme:not(.running)",function(e){return e.preventDefault(),o(this).addClass("running"),o.ajax({type:"post",url:ajax_var.url,data:"action=dfd_deactivate_theme&nonce="+ajax_var.nonce,complete:function(e){200==e.status&&"0"==e.responseText&&location.reload(!0)}}),o(this).removeClass("running"),!1})},e.deactivateManually=function(){o("body").on("click","#dfd-manual-deactivate-popup-button, .dfd-menual-deactivate-close",function(e){return e.preventDefault(),o("#dfd-manual-deactivate-popup").toggleClass("active"),!1}),o("body").on("click",".dfd-deactivate-theme-manually:not(.running)",function(e){e.preventDefault();var t=o(this),n=t.siblings(".dfd-deactivate-puchase-code"),e=n.val();return n.removeClass("error"),e?(t.addClass("running"),o.ajax({type:"post",url:ajax_var.url,data:"action=dfd_deactivate_theme_manually&code="+e+"&nonce="+ajax_var.nonce,complete:function(e){200==e.status&&"0"==e.responseText&&location.reload(!0)}}),t.removeClass("running")):n.addClass("error"),!1})},e.updateTheme=function(){},e.installDemo=function(){o("body").on("click",".dfd-remove-popup",function(e){e.preventDefault();var t=o("#dfd-theme-activation-required-popup");0<t.length&&(t.removeClass("active"),setTimeout(function(){t.remove()},300))}),o(".dfd-activation-required:not(.running)").on("click",function(e){return e.preventDefault(),o(this).addClass("running"),o.ajax({type:"post",url:ajax_var.url,data:"action=dfd_registration_alert&nonce="+ajax_var.nonce,complete:function(e){200==e.status&&""!=e.responseText&&(o("body").append(e.responseText),o("#dfd-theme-activation-required-popup").addClass("active"))}}),o(this).removeClass("running"),!1})},e.init=function(){e.eqHeights(),e.activateTheme(),e.deactivateTheme(),e.deactivateManually(),e.updateTheme(),e.installDemo()},e.init()}(jQuery);