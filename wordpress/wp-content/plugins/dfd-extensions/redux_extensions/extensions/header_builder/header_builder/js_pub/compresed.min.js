var dfd_header_b=dfd_header_b||{};!function(a,b){"use strict";dfd_header_b.Config={curentView:"desktop",curentPreset:"",PresetName:"Default",isnew:!1,defaultView:{desktop:"",tablet:"",mobile:""},editView:{desktop:"",tablet:"",mobile:""},settings:{desktop:"",tablet:"",mobile:""},globalSetting:"",getCurrentSetting:function(){var a=this.getCurentView();return this.settings[a]},getCurentPresetName:function(){var a=dfd_header_b.APP.presets.findWhere({isActive:"active"});return _.isObject(a)?a.get("name"):""},getCurrentPreset:function(){var a=this.getCurentView();return this.defaultView[a]},getCurentView:function(){return this.curentView},setDesktopView:function(){this.curentView="desktop"},setTabletView:function(){this.curentView="tablet"},setMobileView:function(){this.curentView="mobile"},setPresetState:function(){var a=dfd_header_b.APP.presets.findWhere({isActive:"active",isDefault:!1});_.isObject(a)&&a.set({settings:{desktop:this.settings.desktop,tablet:this.settings.tablet,mobile:this.settings.mobile,globals:this.globalSetting}})},setPreset:function(a){this.defaultView.desktop=a.desktop,this.defaultView.tablet=a.tablet,this.defaultView.mobile=a.mobile},setSetting:function(a){this.settings.desktop=a.desktop,this.settings.tablet=a.tablet,this.settings.mobile=a.mobile,this.globalSetting=a.globals},setSettingByView:function(a){var b=this.getCurentView();this.settings[b]=a},setGlobalSetting:function(a){this.globalSetting=a},getGlobalSetting:function(){return this.globalSetting},setPresetByView:function(a){var b=this.getCurentView();this.defaultView[b]=a,""==this.getCurentPresetName()?this.editView[b]=a:this.clearEditView();var c=dfd_header_b.APP.presets.findWhere({isActive:"active",isDefault:!1});this.getCurentView(),this.defaultView;_.isObject(c)&&c.set({presetValues:{desktop:this.defaultView.desktop,tablet:this.defaultView.tablet,mobile:this.defaultView.mobile},settings:{desktop:this.settings.desktop,tablet:this.settings.tablet,mobile:this.settings.mobile,globals:this.globalSetting}})},clearTopPanel:function(){},clearMidPanel:function(){},clearBotPanel:function(){var a=this.getCurrentPreset();a[2]=[],this.setPresetByView(a)},clearEditView:function(){this.editView={desktop:"",tablet:"",mobile:""}},clearSetting:function(){this.settings={desktop:"",tablet:"",mobile:""},this.globalSetting=""},clearView:function(){this.defaultView={desktop:"",tablet:"",mobile:""}}}}(jQuery,window);var dfd_header_b=dfd_header_b||{};!function(a,b){"use strict";dfd_header_b.Default={name:"defalult_03223",isActive:"active",presetValues:{desktop:[[[],[],[]],[[],[],[]],[[],[],[]]],tablet:[[[],[],[]],[[],[],[]],[[{name:"Logo",type:"logo",isfullwidth:!1}],[],[{name:"Language",type:"language",isfullwidth:!1},{name:"Search",type:"search",isfullwidth:!1},{name:"Cart",type:"cart",isfullwidth:!1},{name:"Mobile Menu",type:"mobile_menu",isfullwidth:!1}]]],mobile:[[[],[],[]],[[],[],[]],[[{name:"Logo",type:"logo",isfullwidth:!1}],[],[{name:"Delimiter",type:"delimiter",isfullwidth:!1},{name:"Language",type:"language",isfullwidth:!1},{name:"Mobile Menu",type:"mobile_menu",isfullwidth:!1}]]]},settings:{desktop:[],tablet:[{id:"show_top_panel_builder",type:"trigger",value:"off",def:"on",isGlobal:"false"},{id:"show_mid_panel_builder",type:"trigger",value:"off",def:"on",isGlobal:"false"},{id:"show_bot_panel_builder",type:"trigger",value:"",def:"on",isGlobal:"false"}],mobile:[{id:"show_top_panel_builder",type:"trigger",value:"off",def:"on",isGlobal:"false"},{id:"show_mid_panel_builder",type:"trigger",value:"off",def:"on",isGlobal:"false"},{id:"show_bot_panel_builder",type:"trigger",value:"",def:"on",isGlobal:"false"}],globals:[]},active:""},dfd_header_b.DefaultPresetSide={name:"default_343434343",isActive:"",presetValues:{desktop:[[[{name:"Spacer",type:"spacer",isfullwidth:!1},{name:"Spacer",type:"spacer",isfullwidth:!1}],[],[]],[[],[],[]],[[{name:"Spacer",type:"spacer",isfullwidth:!1},{name:"Spacer",type:"spacer",isfullwidth:!1}],[],[]]],tablet:[[[],[],[]],[[],[],[]],[[{name:"Logo",type:"logo",isfullwidth:!1}],[],[{name:"Language",type:"language",isfullwidth:!1},{name:"Search",type:"search",isfullwidth:!1},{name:"Cart",type:"cart",isfullwidth:!1},{name:"Mobile Menu",type:"mobile_menu",isfullwidth:!1}]]],mobile:[[[],[],[]],[[],[],[]],[[{name:"Logo",type:"logo",isfullwidth:!1}],[],[{name:"Delimiter",type:"delimiter",isfullwidth:!1},{name:"Language",type:"language",isfullwidth:!1},{name:"Mobile Menu",type:"mobile_menu",isfullwidth:!1}]]]},settings:{desktop:[{id:"show_top_panel_builder",type:"trigger",value:"",def:"on",isGlobal:"false"},{id:"show_mid_panel_builder",type:"trigger",value:"on",def:"on",isGlobal:"false"},{id:"show_bot_panel_builder",type:"trigger",value:"",def:"on",isGlobal:"false"},{id:"set_top_panel_abstract_builder",type:"trigger",value:"",def:"off",isGlobal:"false"},{id:"set_mid_panel_abstract_builder",type:"trigger",value:"",def:"off",isGlobal:"false"},{id:"set_bot_panel_abstract_builder",type:"trigger",value:"on",def:"off",isGlobal:"false"},{id:"header_top_background_color_build",type:"colorpicker",value:'{ "color":"#ffffff","is_transparent":"false"}',def:"#ffffff",isGlobal:"false"},{id:"header_mid_background_color_build",type:"colorpicker",value:'{ "color":"#ffffff","is_transparent":"false"}',def:"#ffffff",isGlobal:"false"},{id:"header_bot_background_color_build",type:"colorpicker",value:'{ "color":"#ffffff","is_transparent":"false"}',def:"#ffffff",isGlobal:"false"},{id:"header_top_text_color_build",type:"colorpicker",value:'{ "color":"#313131","is_transparent":"false"}',def:"#313131",isGlobal:"false",hidetransparent:"true"},{id:"header_mid_text_color_build",type:"colorpicker",value:'{ "color":"#313131","is_transparent":"false"}',def:"#313131",isGlobal:"false",hidetransparent:"true"},{id:"header_bot_text_color_build",type:"colorpicker",value:'{ "color":"#313131","is_transparent":"false"}',def:"#313131",isGlobal:"false",hidetransparent:"true"},{id:"header_border_color_build",type:"colorpicker",value:'{ "color":"#e7e7e7","is_transparent":"false"}',def:"#e7e7e7",isGlobal:"false"}],tablet:[{id:"show_top_panel_builder",type:"trigger",value:"off",def:"on",isGlobal:"false"},{id:"show_mid_panel_builder",type:"trigger",value:"off",def:"on",isGlobal:"false"},{id:"show_bot_panel_builder",type:"trigger",value:"",def:"on",isGlobal:"false"},{id:"set_top_panel_abstract_builder",type:"trigger",value:"",def:"off",isGlobal:"false"},{id:"set_mid_panel_abstract_builder",type:"trigger",value:"",def:"off",isGlobal:"false"},{id:"set_bot_panel_abstract_builder",type:"trigger",value:"",def:"off",isGlobal:"false"}],mobile:[{type:"trigger",id:"show_top_panel_builder",value:"off",def:"on",isGlobal:"false"},{type:"trigger",id:"show_mid_panel_builder",value:"off",def:"on",isGlobal:"false"},{type:"trigger",id:"show_bot_panel_builder",value:"",def:"on",isGlobal:"false"},{type:"trigger",id:"set_top_panel_abstract_builder",value:"",def:"off",isGlobal:"false"},{type:"trigger",id:"set_mid_panel_abstract_builder",value:"",def:"off",isGlobal:"false"},{type:"trigger",id:"set_bot_panel_abstract_builder",value:"",def:"off",isGlobal:"false"}],globals:[{id:"header_copyright_builder",type:"text",value:"@DFD",def:"",isGlobal:"true"},{id:"header_telephone_builder",type:"telephone",value:"+(032) 323-323-32",def:"",isGlobal:"true"},{id:"header_button_text_builder",type:"text",value:"Button",def:"",isGlobal:"true"},{id:"header_button_url_builder",type:"text",value:"#",def:"",isGlobal:"true"},{id:"header_side_background_color_builder",type:"colorpicker",value:'{ "color":"#ffffff","is_transparent":"false"}',def:"#ffffff",isGlobal:"true"},{id:"bg_image_side_header_builder",type:"image",value:'{"id":"","thumb":""}',def:"",isGlobal:"true"},{id:"header_side_bar_width_builder",type:"slider",value:"320",def:"",isGlobal:"true"},{id:"header_alignment_builder",type:"radio",value:"left",def:"",isGlobal:"true"},{id:"header_bg_repeat_builder",type:"radio",value:"no-repeat",def:"",isGlobal:"true"},{id:"header_bg_size_builder",type:"radio",value:"cover",def:"",isGlobal:"true"},{id:"header_bg_position_builder",type:"radio",value:"center-center",def:"",isGlobal:"true"},{id:"header_content_alignment_builder",type:"radio",value:"alignleft",def:"",isGlobal:"true"},{id:"style_header_builder",type:"image_select",value:"side",def:"",isGlobal:"true"},{id:"logo_header_builder",type:"image",value:'{"id":"","thumb":""}',def:"",isGlobal:"true"},{id:"retina_logo_header_builder",type:"image",value:'{"id":"","thumb":""}',def:"",isGlobal:"true"},{id:"top_header_height_builder",type:"slider",value:"40",def:"",isGlobal:"true"},{id:"mid_header_height_builder",type:"slider",value:"40",def:"",isGlobal:"true"},{id:"bot_header_height_builder",type:"slider",value:"70",def:"",isGlobal:"true"},{id:"header_sticky_builder",type:"trigger",value:"",def:"on",isGlobal:"true"}]}},dfd_header_b.DefaultPresetBoxed={name:"default_478368",isActive:"",presetValues:{desktop:[[[],[],[]],[[],[],[]],[[],[],[]]],tablet:[[[],[],[]],[[],[],[]],[[{name:"Logo",type:"logo",isfullwidth:!1}],[],[{name:"Language",type:"language",isfullwidth:!1},{name:"Search",type:"search",isfullwidth:!1},{name:"Cart",type:"cart",isfullwidth:!1},{name:"Mobile Menu",type:"mobile_menu",isfullwidth:!1}]]],mobile:[[[],[],[]],[[],[],[]],[[{name:"Logo",type:"logo",isfullwidth:!1}],[],[{name:"Delimiter",type:"delimiter",isfullwidth:!1},{name:"Language",type:"language",isfullwidth:!1},{name:"Mobile Menu",type:"mobile_menu",isfullwidth:!1}]]]},settings:{desktop:[{id:"header_copyright_builder",type:"text",value:"@DFD",def:"",isGlobal:"true"},{id:"header_telephone_builder",type:"telephone",value:"+(032) 323-323-32",def:"",isGlobal:"true"},{id:"header_button_text_builder",type:"text",value:"Button",def:"",isGlobal:"true"},{id:"header_button_url_builder",type:"text",value:"#",def:"",isGlobal:"true"},{id:"header_side_background_color_builder",type:"colorpicker",value:'{ "color":"#ffffff","is_transparent":"false"}',def:"#ffffff",isGlobal:"true"},{id:"bg_image_side_header_builder",type:"image",value:'{"id":"","thumb":""}',def:"",isGlobal:"true"},{id:"header_side_bar_width_builder",type:"slider",value:"490",def:"",isGlobal:"true"},{id:"header_alignment_builder",type:"radio",value:"left",def:"",isGlobal:"true"},{id:"header_bg_repeat_builder",type:"radio",value:"no-repeat",def:"",isGlobal:"true"},{id:"header_bg_size_builder",type:"radio",value:"cover",def:"",isGlobal:"true"},{id:"header_bg_position_builder",type:"radio",value:"center-center",def:"",isGlobal:"true"},{id:"header_content_alignment_builder",type:"radio",value:"alignleft",def:"",isGlobal:"true"},{id:"style_header_builder",type:"image_select",value:"horizontal",def:"",isGlobal:"true"},{id:"show_top_panel_builder",type:"trigger",value:"off",def:"on",isGlobal:"false"},{id:"show_mid_panel_builder",type:"trigger",value:"off",def:"on",isGlobal:"false"},{id:"show_bot_panel_builder",type:"trigger",value:"on",def:"on",isGlobal:"false"},{id:"set_top_panel_abstract_builder",type:"trigger",value:"",def:"off",isGlobal:"false"},{id:"set_mid_panel_abstract_builder",type:"trigger",value:"",def:"off",isGlobal:"false"},{id:"set_bot_panel_abstract_builder",type:"trigger",value:"",def:"off",isGlobal:"false"},{id:"logo_header_builder",type:"image",value:'{"id":"","thumb":""}',def:"",isGlobal:"true"},{id:"retina_logo_header_builder",type:"image",value:'{"id":"","thumb":""}',def:"",isGlobal:"true"},{id:"top_header_height_builder",type:"slider",value:"40",def:"",isGlobal:"true"},{id:"mid_header_height_builder",type:"slider",value:"40",def:"",isGlobal:"true"},{id:"bot_header_height_builder",type:"slider",value:"70",def:"",isGlobal:"true"},{id:"header_top_background_color_build",type:"colorpicker",value:'{ "color":"#ffffff","is_transparent":"false"}',def:"#ffffff",isGlobal:"false"},{id:"header_mid_background_color_build",type:"colorpicker",value:'{ "color":"#ffffff","is_transparent":"false"}',def:"#ffffff",isGlobal:"false"},{id:"header_bot_background_color_build",type:"colorpicker",value:'{ "color":"#ffffff","is_transparent":"false"}',def:"#ffffff",isGlobal:"false"},{id:"header_top_text_color_build",type:"colorpicker",value:'{ "color":"#313131","is_transparent":"false"}',def:"#313131",isGlobal:"false",hidetransparent:"true"},{id:"header_mid_text_color_build",type:"colorpicker",value:'{ "color":"#313131","is_transparent":"false"}',def:"#313131",isGlobal:"false",hidetransparent:"true"},{id:"header_bot_text_color_build",type:"colorpicker",value:'{ "color":"#313131","is_transparent":"false"}',def:"#313131",isGlobal:"false",hidetransparent:"true"},{id:"header_border_color_build",type:"colorpicker",value:'{"color":"transparent","is_transparent":"true"}',def:"#e7e7e7",isGlobal:"false"},{id:"header_sticky_builder",type:"trigger",value:"",def:"on",isGlobal:"true"}],tablet:[{id:"show_top_panel_builder",type:"trigger",value:"off",def:"on",isGlobal:"false"},{id:"show_mid_panel_builder",type:"trigger",value:"off",def:"on",isGlobal:"false"},{id:"show_bot_panel_builder",type:"trigger",value:"",def:"on",isGlobal:"false"}],mobile:[{id:"show_top_panel_builder",type:"trigger",value:"off",def:"on",isGlobal:"false"},{id:"show_mid_panel_builder",type:"trigger",value:"off",def:"on",isGlobal:"false"},{id:"show_bot_panel_builder",type:"trigger",value:"",def:"on",isGlobal:"false"}],globals:[{id:"header_copyright_builder",type:"text",value:"@DFD",def:"",isGlobal:"true"},{id:"header_telephone_builder",type:"telephone",value:"+(032) 323-323-32",def:"",isGlobal:"true"},{id:"header_button_text_builder",type:"text",value:"Button",def:"",isGlobal:"true"},{id:"header_button_url_builder",type:"text",value:"#",def:"",isGlobal:"true"},{id:"header_side_background_color_builder",type:"colorpicker",value:'{ "color":"#ffffff","is_transparent":"false"}',def:"#ffffff",isGlobal:"true"},{id:"bg_image_side_header_builder",type:"image",value:'{"id":"","thumb":""}',def:"",isGlobal:"true"},{id:"header_side_bar_width_builder",type:"slider",value:"490",def:"",isGlobal:"true"},{id:"header_alignment_builder",type:"radio",value:"left",def:"",isGlobal:"true"},{id:"header_bg_repeat_builder",type:"radio",value:"no-repeat",def:"",isGlobal:"true"},{id:"header_bg_size_builder",type:"radio",value:"cover",def:"",isGlobal:"true"},{id:"header_bg_position_builder",type:"radio",value:"center-center",def:"",isGlobal:"true"},{id:"header_content_alignment_builder",type:"radio",value:"alignleft",def:"",isGlobal:"true"},{id:"style_header_builder",type:"image_select",value:"boxed",def:"",isGlobal:"true"},{id:"logo_header_builder",type:"image",value:'{"id":"","thumb":""}',def:"",isGlobal:"true"},{id:"retina_logo_header_builder",type:"image",value:'{"id":"","thumb":""}',def:"",isGlobal:"true"},{id:"top_header_height_builder",type:"slider",value:"40",def:"",isGlobal:"true"},{id:"mid_header_height_builder",type:"slider",value:"40",def:"",isGlobal:"true"},{id:"bot_header_height_builder",type:"slider",value:"70",def:"",isGlobal:"true"},{id:"header_sticky_builder",type:"trigger",value:"",def:"on",isGlobal:"true"}]}},dfd_header_b.PreSetting=[{id:"header_copyright_builder",type:"text",value:"@DFD",def:"",isGlobal:"true"},{id:"header_telephone_builder",type:"telephone",value:"+(032) 323-323-32",def:"",isGlobal:"true"},{id:"header_button_text_builder",type:"text",value:"Button",def:"",isGlobal:"true"},{id:"header_button_url_builder",type:"text",value:"#",def:"",isGlobal:"true"},{id:"header_side_background_color_builder",type:"colorpicker",value:'{ "color":"#ffffff","is_transparent":"false"}',def:"#ffffff",isGlobal:"true"},{id:"bg_image_side_header_builder",type:"image",value:'{"id":"","thumb":""}',def:"",isGlobal:"true"},{id:"header_side_bar_width_builder",type:"slider",value:"490",def:"",isGlobal:"true"},{id:"header_alignment_builder",type:"radio",value:"left",def:"",isGlobal:"true"},{id:"header_bg_repeat_builder",type:"radio",value:"no-repeat",def:"",isGlobal:"true"},{id:"header_bg_size_builder",type:"radio",value:"cover",def:"",isGlobal:"true"},{id:"header_bg_position_builder",type:"radio",value:"center-center",def:"",isGlobal:"true"},{id:"header_content_alignment_builder",type:"radio",value:"alignleft",def:"",isGlobal:"true"},{id:"style_header_builder",type:"image_select",value:"horizontal",def:"",isGlobal:"true"},{id:"show_top_panel_builder",type:"trigger",value:"",def:"on",isGlobal:"false"},{id:"show_mid_panel_builder",type:"trigger",value:"",def:"on",isGlobal:"false"},{id:"show_bot_panel_builder",type:"trigger",value:"",def:"on",isGlobal:"false"},{id:"set_top_panel_abstract_builder",type:"trigger",value:"",def:"off",isGlobal:"false"},{id:"set_mid_panel_abstract_builder",type:"trigger",value:"",def:"off",isGlobal:"false"},{id:"set_bot_panel_abstract_builder",type:"trigger",value:"",def:"off",isGlobal:"false"},{id:"logo_header_builder",type:"image",value:'{"id":"","thumb":"'+dfd_header_b_local_settings.logo_url+'"}',def:"",isGlobal:"true"},{id:"retina_logo_header_builder",type:"image",value:'{"id":"","thumb":"'+dfd_header_b_local_settings.retina_url+'"}',def:"",isGlobal:"true"},{id:"top_header_height_builder",type:"slider",value:"40",def:"",isGlobal:"true"},{id:"mid_header_height_builder",type:"slider",value:"40",def:"",isGlobal:"true"},{id:"bot_header_height_builder",type:"slider",value:"70",def:"",isGlobal:"true"},{id:"header_top_background_color_build",type:"colorpicker",value:'{ "color":"#ffffff","is_transparent":"false"}',def:"#ffffff",isGlobal:"false"},{id:"header_mid_background_color_build",type:"colorpicker",value:'{ "color":"#ffffff","is_transparent":"false"}',def:"#ffffff",isGlobal:"false"},{id:"header_bot_background_color_build",type:"colorpicker",value:'{ "color":"#ffffff","is_transparent":"false"}',def:"#ffffff",isGlobal:"false"},{id:"header_top_text_color_build",type:"colorpicker",value:'{ "color":"#313131","is_transparent":"false"}',def:"#313131",hidetransparent:"true",isGlobal:"false"},{id:"header_mid_text_color_build",type:"colorpicker",value:'{ "color":"#313131","is_transparent":"false"}',def:"#313131",hidetransparent:"true",isGlobal:"false"},{id:"header_bot_text_color_build",type:"colorpicker",value:'{ "color":"#313131","is_transparent":"false"}',def:"#313131",hidetransparent:"true",isGlobal:"false"},{id:"header_border_color_build",type:"colorpicker",value:'{ "color":"#e7e7e7","is_transparent":"false"}',def:"#e7e7e7",isGlobal:"false"},{id:"header_sticky_builder",type:"trigger",value:"",def:"on",isGlobal:"true"}],dfd_header_b.PremadeElements={el:[{type:"text",name:"Copyright message",class_el:"Copyright-message"},{type:"menu",name:"Menu",class_el:"Menu"},{type:"second_menu",name:"Second Menu",class_el:"Second-Menu"},{type:"third_menu",name:"Third  Menu",class_el:"Third-Menu"},{type:"additional_menu",name:"Additional Menu",class_el:"Additional_Menu"},{type:"wishlist",name:"Wishlist",class_el:"Wishlist"},{type:"cart",name:"Cart",class_el:"Cart"},{type:"search",name:"Search",class_el:"Search"},{type:"logo",name:"Logo",class_el:"Logo"},{type:"language",name:"Language",class_el:"Language"},{type:"socicon",name:"Social Icon",class_el:"Socicon"},{type:"login",name:"Login on site",class_el:"Login"},{type:"info",name:"Info",class_el:"Info"},{type:"mobile_menu",name:"Mobile Menu",class_el:"Mobile_Menu"},{type:"side_area",name:"Side Area",class_el:"Side_Area"},{type:"inner_page",name:"Inner Page",class_el:"Inner_Page"},{type:"buttonel",name:"Button",class_el:"Button"},{type:"telephone",name:"Telephone",class_el:"Telephone"},{type:"spacer",name:"Spacer",class_el:"spacer",onlimit:!0},{type:"delimiter",name:"Delimiter",class_el:"Delimiter",onlimit:!0}]},dfd_header_b.Dependency={side:["set_top_panel_abstract_builder","set_mid_panel_abstract_builder","set_bot_panel_abstract_builder","top_header_height_builder","mid_header_height_builder","bot_header_height_builder","show_top_panel_builder","show_mid_panel_builder","show_bot_panel_builder","header_top_background_color_build","header_mid_background_color_build","header_bot_background_color_build"],horizontal:["bg_image_side_header_builder","header_side_background_color_builder","header_side_bar_width_builder","header_alignment_builder","header_content_alignment_builder","header_bg_repeat_builder","header_bg_size_builder","header_bg_position_builder"],boxed:["bg_image_side_header_builder","header_side_background_color_builder","header_side_bar_width_builder","header_alignment_builder","header_content_alignment_builder","header_bg_repeat_builder","header_bg_size_builder","header_bg_position_builder"],init:function(){var a=this,b=dfd_header_b.View.Setting.getHeaderStyle();"desktop"!=dfd_header_b.Config.getCurentView()&&"side"==b&&(b="horizontal"),setTimeout(function(){a.build(b)},50)},build:function(b){for(var c in this[b]){var d=this[b][c],e=a("fieldset[data-id="+d+"]").parent().parent();e.hide()}b="side"==b?"horizontal":"side";for(var c in this[b]){var d=this[b][c],e=a("fieldset[data-id="+d+"]").parent().parent();e.show()}}}}(jQuery,window),function(a){"use strict";function b(b,c){this.opts=a.extend({handleKeys:!0,scrollEventKeys:[32,33,34,35,36,37,38,39,40]},c),this.$container=b,this.$document=a(document),this.lockToScrollPos=[0,0],this.disable()}var c,d;d=b.prototype,d.disable=function(){var a=this;a.lockToScrollPos=[a.$container.scrollLeft(),a.$container.scrollTop()],a.$container.on("mousewheel.disablescroll DOMMouseScroll.disablescroll touchmove.disablescroll",a._handleWheel),a.$container.on("scroll.disablescroll",function(){a._handleScrollbar.call(a)}),a.opts.handleKeys&&a.$document.on("keydown.disablescroll",function(b){a._handleKeydown.call(a,b)})},d.undo=function(){var a=this;a.$container.off(".disablescroll"),a.opts.handleKeys&&a.$document.off(".disablescroll")},d._handleWheel=function(a){a.preventDefault()},d._handleScrollbar=function(){this.$container.scrollLeft(this.lockToScrollPos[0]),this.$container.scrollTop(this.lockToScrollPos[1])},d._handleKeydown=function(a){for(var b=0;b<this.opts.scrollEventKeys.length;b++)if(a.keyCode===this.opts.scrollEventKeys[b])return void a.preventDefault()},a.fn.disablescroll=function(a){c||"object"!=typeof a&&a?c&&c[a]&&c[a].call(c):c=new b(this,a)},window.UserScrollDisabler=b}(jQuery),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.Sortable=b())}(this,function(){"use strict";function a(b){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(b)}function b(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function c(){return c=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},c.apply(this,arguments)}function d(a){for(var c=1;c<arguments.length;c++){var d=null!=arguments[c]?arguments[c]:{},e=Object.keys(d);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable}))),e.forEach(function(c){b(a,c,d[c])})}return a}function e(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function f(a,b){if(null==a)return{};var c,d,f=e(a,b);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(a);for(d=0;d<g.length;d++)c=g[d],b.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(a,c)&&(f[c]=a[c])}return f}function g(a){return h(a)||i(a)||j()}function h(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function i(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function j(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function k(a){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(a)}function l(a,b,c){a.addEventListener(b,c,!La&&Ra)}function m(a,b,c){a.removeEventListener(b,c,!La&&Ra)}function n(a,b){if(b){if(">"===b[0]&&(b=b.substring(1)),a)try{if(a.matches)return a.matches(b);if(a.msMatchesSelector)return a.msMatchesSelector(b);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(b)}catch(a){return!1}return!1}}function o(a){return a.host&&a!==document&&a.host.nodeType?a.host:a.parentNode}function p(a,b,c,d){if(a){c=c||document;do{if(null!=b&&(">"===b[0]?a.parentNode===c&&n(a,b):n(a,b))||d&&a===c)return a;if(a===c)break}while(a=o(a))}return null}function q(a,b,c){if(a&&b)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(Sa," ").replace(" "+b+" "," ");a.className=(d+(c?" "+b:"")).replace(Sa," ")}}function r(a,b,c){var d=a&&a.style;if(d){if(void 0===c)return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in d||-1!==b.indexOf("webkit")||(b="-webkit-"+b),d[b]=c+("string"==typeof c?"":"px")}}function s(a,b){var c="";if("string"==typeof a)c=a;else do{var d=r(a,"transform");d&&"none"!==d&&(c=d+" "+c)}while(!b&&(a=a.parentNode));var e=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return e&&new e(c)}function t(a,b,c){if(a){var d=a.getElementsByTagName(b),e=0,f=d.length;if(c)for(;e<f;e++)c(d[e],e);return d}return[]}function u(){var a=document.scrollingElement;return a||document.documentElement}function v(a,b,c,d,e){if(a.getBoundingClientRect||a===window){var f,g,h,i,j,k,l;if(a!==window&&a.parentNode&&a!==u()?(f=a.getBoundingClientRect(),g=f.top,h=f.left,i=f.bottom,j=f.right,k=f.height,l=f.width):(g=0,h=0,i=window.innerHeight,j=window.innerWidth,k=window.innerHeight,l=window.innerWidth),(b||c)&&a!==window&&(e=e||a.parentNode,!La))do{if(e&&e.getBoundingClientRect&&("none"!==r(e,"transform")||c&&"static"!==r(e,"position"))){var m=e.getBoundingClientRect();g-=m.top+parseInt(r(e,"border-top-width")),h-=m.left+parseInt(r(e,"border-left-width")),i=g+f.height,j=h+f.width;break}}while(e=e.parentNode);if(d&&a!==window){var n=s(e||a),o=n&&n.a,p=n&&n.d;n&&(g/=p,h/=o,l/=o,k/=p,i=g+k,j=h+l)}return{top:g,left:h,bottom:i,right:j,width:l,height:k}}}function w(a,b,c){for(var d=C(a,!0),e=v(a)[b];d;){var f=v(d)[c];if(!("top"===c||"left"===c?e>=f:e<=f))return d;if(d===u())break;d=C(d,!1)}return!1}function x(a,b,c){for(var d=0,e=0,f=a.children;e<f.length;){if("none"!==f[e].style.display&&f[e]!==Q.ghost&&f[e]!==Q.dragged&&p(f[e],c.draggable,a,!1)){if(d===b)return f[e];d++}e++}return null}function y(a,b){for(var c=a.lastElementChild;c&&(c===Q.ghost||"none"===r(c,"display")||b&&!n(c,b));)c=c.previousElementSibling;return c||null}function z(a,b){var c=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)"TEMPLATE"===a.nodeName.toUpperCase()||a===Q.clone||b&&!n(a,b)||c++;return c}function A(a){var b=0,c=0,d=u();if(a)do{var e=s(a),f=e.a,g=e.d;b+=a.scrollLeft*f,c+=a.scrollTop*g}while(a!==d&&(a=a.parentNode));return[b,c]}function B(a,b){for(var c in a)if(a.hasOwnProperty(c))for(var d in b)if(b.hasOwnProperty(d)&&b[d]===a[c][d])return Number(c);return-1}function C(a,b){if(!a||!a.getBoundingClientRect)return u();var c=a,d=!1;do{if(c.clientWidth<c.scrollWidth||c.clientHeight<c.scrollHeight){var e=r(c);if(c.clientWidth<c.scrollWidth&&("auto"==e.overflowX||"scroll"==e.overflowX)||c.clientHeight<c.scrollHeight&&("auto"==e.overflowY||"scroll"==e.overflowY)){if(!c.getBoundingClientRect||c===document.body)return u();if(d||b)return c;d=!0}}}while(c=c.parentNode);return u()}function D(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function E(a,b){return Math.round(a.top)===Math.round(b.top)&&Math.round(a.left)===Math.round(b.left)&&Math.round(a.height)===Math.round(b.height)&&Math.round(a.width)===Math.round(b.width)}function F(a,b){return function(){if(!la){var c=arguments,d=this;1===c.length?a.call(d,c[0]):a.apply(d,c),la=setTimeout(function(){la=void 0},b)}}}function G(){clearTimeout(la),la=void 0}function H(a,b,c){a.scrollLeft+=b,a.scrollTop+=c}function I(a){var b=window.Polymer,c=window.jQuery||window.Zepto;return b&&b.dom?b.dom(a).cloneNode(!0):c?c(a).clone(!0)[0]:a.cloneNode(!0)}function J(a,b){r(a,"position","absolute"),r(a,"top",b.top),r(a,"left",b.left),r(a,"width",b.width),r(a,"height",b.height)}function K(a){r(a,"position",""),r(a,"top",""),r(a,"left",""),r(a,"width",""),r(a,"height","")}function L(){var a,b=[];return{captureAnimationState:function(){if(b=[],this.options.animation){[].slice.call(this.el.children).forEach(function(a){if("none"!==r(a,"display")&&a!==Q.ghost){b.push({target:a,rect:v(a)});var c=d({},b[b.length-1].rect);if(a.thisAnimationDuration){var e=s(a,!0);e&&(c.top-=e.f,c.left-=e.e)}a.fromRect=c}})}},addAnimationState:function(a){b.push(a)},removeAnimationState:function(a){b.splice(B(b,{target:a}),1)},animateAll:function(c){var d=this;if(!this.options.animation)return clearTimeout(a),void("function"==typeof c&&c());var e=!1,f=0;b.forEach(function(a){var b=0,c=a.target,g=c.fromRect,h=v(c),i=c.prevFromRect,j=c.prevToRect,k=a.rect,l=s(c,!0);l&&(h.top-=l.f,h.left-=l.e),c.toRect=h,c.thisAnimationDuration&&E(i,h)&&!E(g,h)&&(k.top-h.top)/(k.left-h.left)==(g.top-h.top)/(g.left-h.left)&&(b=N(k,i,j,d.options)),E(h,g)||(c.prevFromRect=g,c.prevToRect=h,b||(b=d.options.animation),d.animate(c,k,h,b)),b&&(e=!0,f=Math.max(f,b),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},b),c.thisAnimationDuration=b)}),clearTimeout(a),e?a=setTimeout(function(){"function"==typeof c&&c()},f):"function"==typeof c&&c(),b=[]},animate:function(a,b,c,d){if(d){r(a,"transition",""),r(a,"transform","");var e=s(this.el),f=e&&e.a,g=e&&e.d,h=(b.left-c.left)/(f||1),i=(b.top-c.top)/(g||1);a.animatingX=!!h,a.animatingY=!!i,r(a,"transform","translate3d("+h+"px,"+i+"px,0)"),this.forRepaintDummy=M(a),r(a,"transition","transform "+d+"ms"+(this.options.easing?" "+this.options.easing:"")),r(a,"transform","translate3d(0,0,0)"),"number"==typeof a.animated&&clearTimeout(a.animated),a.animated=setTimeout(function(){r(a,"transition",""),r(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},d)}}}}function M(a){return a.offsetWidth}function N(a,b,c,d){return Math.sqrt(Math.pow(b.top-a.top,2)+Math.pow(b.left-a.left,2))/Math.sqrt(Math.pow(b.top-c.top,2)+Math.pow(b.left-c.left,2))*d.animation}function O(a){var b=a.sortable,c=a.rootEl,e=a.name,f=a.targetEl,g=a.cloneEl,h=a.toEl,i=a.fromEl,j=a.oldIndex,k=a.newIndex,l=a.oldDraggableIndex,m=a.newDraggableIndex,n=a.originalEvent,o=a.putSortable,p=a.extraEventProperties;if(b=b||c&&c[Ta]){var q,r=b.options,s="on"+e.charAt(0).toUpperCase()+e.substr(1);!window.CustomEvent||La||Ma?(q=document.createEvent("Event"),q.initEvent(e,!0,!0)):q=new CustomEvent(e,{bubbles:!0,cancelable:!0}),q.to=h||c,q.from=i||c,q.item=f||c,q.clone=g,q.oldIndex=j,q.newIndex=k,q.oldDraggableIndex=l,q.newDraggableIndex=m,q.originalEvent=n,q.pullMode=o?o.lastPutMode:void 0;var t=d({},p,Wa.getEventProperties(e,b));for(var u in t)q[u]=t[u];c&&c.dispatchEvent(q),r[s]&&r[s].call(b,q)}}function P(a){O(d({putSortable:za,cloneEl:sa,targetEl:ma,rootEl:pa,oldIndex:ua,oldDraggableIndex:wa,newIndex:va,newDraggableIndex:xa},a))}function Q(a,b){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));this.el=a,this.options=b=c({},b),a[Ta]=this;var d={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(a.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return jb(a,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,b){a.setData("Text",b.textContent)},dropBubble:!1,
dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Q.supportPointer&&"PointerEvent"in window&&!Oa,emptyInsertThreshold:5};Wa.initializePlugins(this,a,d);for(var e in d)!(e in b)&&(b[e]=d[e]);mb(b);for(var f in this)"_"===f.charAt(0)&&"function"==typeof this[f]&&(this[f]=this[f].bind(this));this.nativeDraggable=!b.forceFallback&&hb,this.nativeDraggable&&(this.options.touchStartThreshold=1),b.supportPointer?l(a,"pointerdown",this._onTapStart):(l(a,"mousedown",this._onTapStart),l(a,"touchstart",this._onTapStart)),this.nativeDraggable&&(l(a,"dragover",this),l(a,"dragenter",this)),$a.push(this.el),b.store&&b.store.get&&this.sort(b.store.get(this)||[]),c(this,L())}function R(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault()}function S(a,b,c,d,e,f,g,h){var i,j,k=a[Ta],l=k.options.onMove;return!window.CustomEvent||La||Ma?(i=document.createEvent("Event"),i.initEvent("move",!0,!0)):i=new CustomEvent("move",{bubbles:!0,cancelable:!0}),i.to=b,i.from=a,i.dragged=c,i.draggedRect=d,i.related=e||b,i.relatedRect=f||v(b),i.willInsertAfter=h,i.originalEvent=g,a.dispatchEvent(i),l&&(j=l.call(k,i,g)),j}function T(a){a.draggable=!1}function U(){cb=!1}function V(a,b,c){var d=v(y(c.el,c.options.draggable));return b?a.clientX>d.right+10||a.clientX<=d.right&&a.clientY>d.bottom&&a.clientX>=d.left:a.clientX>d.right&&a.clientY>d.top||a.clientX<=d.right&&a.clientY>d.bottom+10}function W(a,b,c,d,e,f,g,h){var i=d?a.clientY:a.clientX,j=d?c.height:c.width,k=d?c.top:c.left,l=d?c.bottom:c.right,m=!1;if(!g)if(h&&Ja<j*e){if(!_a&&(1===Ia?i>k+j*f/2:i<l-j*f/2)&&(_a=!0),_a)m=!0;else if(1===Ia?i<k+Ja:i>l-Ja)return-Ia}else if(i>k+j*(1-e)/2&&i<l-j*(1-e)/2)return X(b);return m=m||g,m&&(i<k+j*f/2||i>l-j*f/2)?i>k+j/2?1:-1:0}function X(a){return z(ma)<z(a)?1:-1}function Y(a){for(var b=a.tagName+a.className+a.src+a.href+a.textContent,c=b.length,d=0;c--;)d+=b.charCodeAt(c);return d.toString(36)}function Z(a){db.length=0;for(var b=a.getElementsByTagName("input"),c=b.length;c--;){var d=b[c];d.checked&&db.push(d)}}function $(a){return setTimeout(a,0)}function _(a){return clearTimeout(a)}function aa(){function a(){this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var a in this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this))}return a.prototype={dragStarted:function(a){var b=a.originalEvent;this.sortable.nativeDraggable?l(document,"dragover",this._handleAutoScroll):this.options.supportPointer?l(document,"pointermove",this._handleFallbackAutoScroll):b.touches?l(document,"touchmove",this._handleFallbackAutoScroll):l(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(a){var b=a.originalEvent;this.options.dragOverBubble||b.rootEl||this._handleAutoScroll(b)},drop:function(){this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):(m(document,"pointermove",this._handleFallbackAutoScroll),m(document,"touchmove",this._handleFallbackAutoScroll),m(document,"mousemove",this._handleFallbackAutoScroll)),ca(),ba(),G()},nulling:function(){vb=sb=rb=yb=wb=tb=ub=null,xb.length=0},_handleFallbackAutoScroll:function(a){this._handleAutoScroll(a,!0)},_handleAutoScroll:function(a,b){var c=this,d=(a.touches?a.touches[0]:a).clientX,e=(a.touches?a.touches[0]:a).clientY,f=document.elementFromPoint(d,e);if(vb=a,b||Ma||La||Oa){zb(a,this.options,f,b);var g=C(f,!0);!yb||wb&&d===tb&&e===ub||(wb&&ca(),wb=setInterval(function(){var f=C(document.elementFromPoint(d,e),!0);f!==g&&(g=f,ba()),zb(a,c.options,f,b)},10),tb=d,ub=e)}else{if(!this.options.bubbleScroll||C(f,!0)===u())return void ba();zb(a,this.options,C(f,!1),!1)}}},c(a,{pluginName:"scroll",initializeByDefault:!0})}function ba(){xb.forEach(function(a){clearInterval(a.pid)}),xb=[]}function ca(){clearInterval(wb)}function da(){}function ea(){}function fa(){function a(){this.defaults={swapClass:"sortable-swap-highlight"}}return a.prototype={dragStart:function(a){var b=a.dragEl;Bb=b},dragOverValid:function(a){var b=a.completed,c=a.target,d=a.onMove,e=a.activeSortable,f=a.changed,g=a.cancel;if(e.options.swap){var h=this.sortable.el,i=this.options;if(c&&c!==h){var j=Bb;!1!==d(c)?(q(c,i.swapClass,!0),Bb=c):Bb=null,j&&j!==Bb&&q(j,i.swapClass,!1)}f(),b(!0),g()}},drop:function(a){var b=a.activeSortable,c=a.putSortable,d=a.dragEl,e=c||this.sortable,f=this.options;Bb&&q(Bb,f.swapClass,!1),Bb&&(f.swap||c&&c.options.swap)&&d!==Bb&&(e.captureAnimationState(),e!==b&&b.captureAnimationState(),ga(d,Bb),e.animateAll(),e!==b&&b.animateAll())},nulling:function(){Bb=null}},c(a,{pluginName:"swap",eventProperties:function(){return{swapItem:Bb}}})}function ga(a,b){var c,d,e=a.parentNode,f=b.parentNode;e&&f&&!e.isEqualNode(b)&&!f.isEqualNode(a)&&(c=z(a),d=z(b),e.isEqualNode(f)&&c<d&&d++,e.insertBefore(b,e.children[c]),f.insertBefore(a,f.children[d]))}function ha(){function a(a){for(var b in this)"_"===b.charAt(0)&&"function"==typeof this[b]&&(this[b]=this[b].bind(this));a.options.supportPointer?l(document,"pointerup",this._deselectMultiDrag):(l(document,"mouseup",this._deselectMultiDrag),l(document,"touchend",this._deselectMultiDrag)),l(document,"keydown",this._checkKeyDown),l(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(b,c){var d="";Hb.length&&Db===a?Hb.forEach(function(a,b){d+=(b?", ":"")+a.textContent}):d=c.textContent,b.setData("Text",d)}}}return a.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(a){var b=a.dragEl;Eb=b},delayEnded:function(){this.isMultiDrag=~Hb.indexOf(Eb)},setupClone:function(a){var b=a.sortable,c=a.cancel;if(this.isMultiDrag){for(var d=0;d<Hb.length;d++)Ib.push(I(Hb[d])),Ib[d].sortableIndex=Hb[d].sortableIndex,Ib[d].draggable=!1,Ib[d].style["will-change"]="",q(Ib[d],this.options.selectedClass,!1),Hb[d]===Eb&&q(Ib[d],this.options.chosenClass,!1);b._hideClone(),c()}},clone:function(a){var b=a.sortable,c=a.rootEl,d=a.dispatchSortableEvent,e=a.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Hb.length&&Db===b&&(ja(!0,c),d("clone"),e()))},showClone:function(a){var b=a.cloneNowShown,c=a.rootEl,d=a.cancel;this.isMultiDrag&&(ja(!1,c),Ib.forEach(function(a){r(a,"display","")}),b(),Gb=!1,d())},hideClone:function(a){var b=this,c=(a.sortable,a.cloneNowHidden),d=a.cancel;this.isMultiDrag&&(Ib.forEach(function(a){r(a,"display","none"),b.options.removeCloneOnHide&&a.parentNode&&a.parentNode.removeChild(a)}),c(),Gb=!0,d())},dragStartGlobal:function(a){a.sortable;!this.isMultiDrag&&Db&&Db.multiDrag._deselectMultiDrag(),Hb.forEach(function(a){a.sortableIndex=z(a)}),Hb=Hb.sort(function(a,b){return a.sortableIndex-b.sortableIndex}),Lb=!0},dragStarted:function(a){var b=this,c=a.sortable;if(this.isMultiDrag){if(this.options.sort&&(c.captureAnimationState(),this.options.animation)){Hb.forEach(function(a){a!==Eb&&r(a,"position","absolute")});var d=v(Eb,!1,!0,!0);Hb.forEach(function(a){a!==Eb&&J(a,d)}),Kb=!0,Jb=!0}c.animateAll(function(){Kb=!1,Jb=!1,b.options.animation&&Hb.forEach(function(a){K(a)}),b.options.sort&&ka()})}},dragOver:function(a){var b=a.target,c=a.completed,d=a.cancel;Kb&&~Hb.indexOf(b)&&(c(!1),d())},revert:function(a){var b=a.fromSortable,c=a.rootEl,d=a.sortable,e=a.dragRect;Hb.length>1&&(Hb.forEach(function(a){d.addAnimationState({target:a,rect:Kb?v(a):e}),K(a),a.fromRect=e,b.removeAnimationState(a)}),Kb=!1,ia(!this.options.removeCloneOnHide,c))},dragOverCompleted:function(a){var b=a.sortable,c=a.isOwner,d=a.insertion,e=a.activeSortable,f=a.parentEl,g=a.putSortable,h=this.options;if(d){if(c&&e._hideClone(),Jb=!1,h.animation&&Hb.length>1&&(Kb||!c&&!e.options.sort&&!g)){var i=v(Eb,!1,!0,!0);Hb.forEach(function(a){a!==Eb&&(J(a,i),f.appendChild(a))}),Kb=!0}if(!c)if(Kb||ka(),Hb.length>1){var j=Gb;e._showClone(b),e.options.animation&&!Gb&&j&&Ib.forEach(function(a){e.addAnimationState({target:a,rect:Fb}),a.fromRect=Fb,a.thisAnimationDuration=null})}else e._showClone(b)}},dragOverAnimationCapture:function(a){var b=a.dragRect,d=a.isOwner,e=a.activeSortable;if(Hb.forEach(function(a){a.thisAnimationDuration=null}),e.options.animation&&!d&&e.multiDrag.isMultiDrag){Fb=c({},b);var f=s(Eb,!0);Fb.top-=f.f,Fb.left-=f.e}},dragOverAnimationComplete:function(){Kb&&(Kb=!1,ka())},drop:function(a){var b=a.originalEvent,c=a.rootEl,d=a.parentEl,e=a.sortable,f=a.dispatchSortableEvent,g=a.oldIndex,h=a.putSortable,i=h||this.sortable;if(b){var j=this.options,k=d.children;if(!Lb)if(j.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),q(Eb,j.selectedClass,!~Hb.indexOf(Eb)),~Hb.indexOf(Eb))Hb.splice(Hb.indexOf(Eb),1),Cb=null,O({sortable:e,rootEl:c,name:"deselect",targetEl:Eb,originalEvt:b});else{if(Hb.push(Eb),O({sortable:e,rootEl:c,name:"select",targetEl:Eb,originalEvt:b}),b.shiftKey&&Cb&&e.el.contains(Cb)){var l=z(Cb),m=z(Eb);if(~l&&~m&&l!==m){var n,o;for(m>l?(o=l,n=m):(o=m,n=l+1);o<n;o++)~Hb.indexOf(k[o])||(q(k[o],j.selectedClass,!0),Hb.push(k[o]),O({sortable:e,rootEl:c,name:"select",targetEl:k[o],originalEvt:b}))}}else Cb=Eb;Db=i}if(Lb&&this.isMultiDrag){if((d[Ta].options.sort||d!==c)&&Hb.length>1){var p=v(Eb),r=z(Eb,":not(."+this.options.selectedClass+")");if(!Jb&&j.animation&&(Eb.thisAnimationDuration=null),i.captureAnimationState(),!Jb&&(j.animation&&(Eb.fromRect=p,Hb.forEach(function(a){if(a.thisAnimationDuration=null,a!==Eb){var b=Kb?v(a):p;a.fromRect=b,i.addAnimationState({target:a,rect:b})}})),ka(),Hb.forEach(function(a){k[r]?d.insertBefore(a,k[r]):d.appendChild(a),r++}),g===z(Eb))){var s=!1;Hb.forEach(function(a){if(a.sortableIndex!==z(a))return void(s=!0)}),s&&f("update")}Hb.forEach(function(a){K(a)}),i.animateAll()}Db=i}(c===d||h&&"clone"!==h.lastPutMode)&&Ib.forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})}},nullingGlobal:function(){this.isMultiDrag=Lb=!1,Ib.length=0},destroyGlobal:function(){this._deselectMultiDrag(),m(document,"pointerup",this._deselectMultiDrag),m(document,"mouseup",this._deselectMultiDrag),m(document,"touchend",this._deselectMultiDrag),m(document,"keydown",this._checkKeyDown),m(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(a){if(!(void 0!==Lb&&Lb||Db!==this.sortable||a&&p(a.target,this.options.draggable,this.sortable.el,!1)||a&&0!==a.button))for(;Hb.length;){var b=Hb[0];q(b,this.options.selectedClass,!1),Hb.shift(),O({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:b,originalEvt:a})}},_checkKeyDown:function(a){a.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(a){a.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},c(a,{pluginName:"multiDrag",utils:{select:function(a){var b=a.parentNode[Ta];b&&b.options.multiDrag&&!~Hb.indexOf(a)&&(Db&&Db!==b&&(Db.multiDrag._deselectMultiDrag(),Db=b),q(a,b.options.selectedClass,!0),Hb.push(a))},deselect:function(a){var b=a.parentNode[Ta],c=Hb.indexOf(a);b&&b.options.multiDrag&&~c&&(q(a,b.options.selectedClass,!1),Hb.splice(c,1))}},eventProperties:function(){var a=this,b=[],c=[];return Hb.forEach(function(d){b.push({multiDragElement:d,index:d.sortableIndex});var e;e=Kb&&d!==Eb?-1:Kb?z(d,":not(."+a.options.selectedClass+")"):z(d),c.push({multiDragElement:d,index:e})}),{items:g(Hb),clones:[].concat(Ib),oldIndicies:b,newIndicies:c}},optionListeners:{multiDragKey:function(a){return a=a.toLowerCase(),"ctrl"===a?a="Control":a.length>1&&(a=a.charAt(0).toUpperCase()+a.substr(1)),a}}})}function ia(a,b){Hb.forEach(function(c,d){var e=b.children[c.sortableIndex+(a?Number(d):0)];e?b.insertBefore(c,e):b.appendChild(c)})}function ja(a,b){Ib.forEach(function(c,d){var e=b.children[c.sortableIndex+(a?Number(d):0)];e?b.insertBefore(c,e):b.appendChild(c)})}function ka(){Hb.forEach(function(a){a!==Eb&&a.parentNode&&a.parentNode.removeChild(a)})}var la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La=k(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ma=k(/Edge/i),Na=k(/firefox/i),Oa=k(/safari/i)&&!k(/chrome/i)&&!k(/android/i),Pa=k(/iP(ad|od|hone)/i),Qa=k(/chrome/i)&&k(/android/i),Ra={capture:!1,passive:!1},Sa=/\s+/g,Ta="Sortable"+(new Date).getTime(),Ua=[],Va={initializeByDefault:!0},Wa={mount:function(a){for(var b in Va)!Va.hasOwnProperty(b)||b in a||(a[b]=Va[b]);Ua.forEach(function(b){if(b.pluginName===a.pluginName)throw"Sortable: Cannot mount plugin ".concat(a.pluginName," more than once")}),Ua.push(a)},pluginEvent:function(a,b,c){var e=this;this.eventCanceled=!1,c.cancel=function(){e.eventCanceled=!0};var f=a+"Global";Ua.forEach(function(e){b[e.pluginName]&&(b[e.pluginName][f]&&b[e.pluginName][f](d({sortable:b},c)),b.options[e.pluginName]&&b[e.pluginName][a]&&b[e.pluginName][a](d({sortable:b},c)))})},initializePlugins:function(a,b,d,e){Ua.forEach(function(e){var f=e.pluginName;if(a.options[f]||e.initializeByDefault){var g=new e(a,b,a.options);g.sortable=a,g.options=a.options,a[f]=g,c(d,g.defaults)}});for(var f in a.options)if(a.options.hasOwnProperty(f)){var g=this.modifyOption(a,f,a.options[f]);void 0!==g&&(a.options[f]=g)}},getEventProperties:function(a,b){var d={};return Ua.forEach(function(e){"function"==typeof e.eventProperties&&c(d,e.eventProperties.call(b[e.pluginName],a))}),d},modifyOption:function(a,b,c){var d;return Ua.forEach(function(e){a[e.pluginName]&&e.optionListeners&&"function"==typeof e.optionListeners[b]&&(d=e.optionListeners[b].call(a[e.pluginName],c))}),d}},Xa=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=c.evt,g=f(c,["evt"]);Wa.pluginEvent.bind(Q)(a,b,d({dragEl:ma,parentEl:na,ghostEl:oa,rootEl:pa,nextEl:qa,lastDownEl:ra,cloneEl:sa,cloneHidden:ta,dragStarted:Ga,putSortable:za,activeSortable:Q.active,originalEvent:e,oldIndex:ua,oldDraggableIndex:wa,newIndex:va,newDraggableIndex:xa,hideGhostForTarget:nb,unhideGhostForTarget:ob,cloneNowHidden:function(){ta=!0},cloneNowShown:function(){ta=!1},dispatchSortableEvent:function(a){P({sortable:b,name:a,originalEvent:e})}},g))},Ya=!1,Za=!1,$a=[],_a=!1,ab=!1,bb=[],cb=!1,db=[],eb="undefined"!=typeof document,fb=Pa,gb=Ma||La?"cssFloat":"float",hb=eb&&!Qa&&!Pa&&"draggable"in document.createElement("div"),ib=function(){if(eb){if(La)return!1;var a=document.createElement("x");return a.style.cssText="pointer-events:auto","auto"===a.style.pointerEvents}}(),jb=function(a,b){var c=r(a),d=parseInt(c.width)-parseInt(c.paddingLeft)-parseInt(c.paddingRight)-parseInt(c.borderLeftWidth)-parseInt(c.borderRightWidth),e=x(a,0,b),f=x(a,1,b),g=e&&r(e),h=f&&r(f),i=g&&parseInt(g.marginLeft)+parseInt(g.marginRight)+v(e).width,j=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+v(f).width;if("flex"===c.display)return"column"===c.flexDirection||"column-reverse"===c.flexDirection?"vertical":"horizontal";if("grid"===c.display)return c.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(e&&g.float&&"none"!==g.float){var k="left"===g.float?"left":"right";return!f||"both"!==h.clear&&h.clear!==k?"horizontal":"vertical"}return e&&("block"===g.display||"flex"===g.display||"table"===g.display||"grid"===g.display||i>=d&&"none"===c[gb]||f&&"none"===c[gb]&&i+j>d)?"vertical":"horizontal"},kb=function(a,b,c){var d=c?a.left:a.top,e=c?a.right:a.bottom,f=c?a.width:a.height,g=c?b.left:b.top,h=c?b.right:b.bottom,i=c?b.width:b.height;return d===g||e===h||d+f/2===g+i/2},lb=function(a,b){var c;return $a.some(function(d){if(!y(d)){var e=v(d),f=d[Ta].options.emptyInsertThreshold,g=a>=e.left-f&&a<=e.right+f,h=b>=e.top-f&&b<=e.bottom+f;return f&&g&&h?c=d:void 0}}),c},mb=function(b){function c(a,b){return function(d,e,f,g){var h=d.options.group.name&&e.options.group.name&&d.options.group.name===e.options.group.name;if(null==a&&(b||h))return!0;if(null==a||!1===a)return!1;if(b&&"clone"===a)return a;if("function"==typeof a)return c(a(d,e,f,g),b)(d,e,f,g);var i=(b?d:e).options.group.name;return!0===a||"string"==typeof a&&a===i||a.join&&a.indexOf(i)>-1}}var d={},e=b.group;e&&"object"==a(e)||(e={name:e}),d.name=e.name,d.checkPull=c(e.pull,!0),d.checkPut=c(e.put),d.revertClone=e.revertClone,b.group=d},nb=function(){!ib&&oa&&r(oa,"display","none")},ob=function(){!ib&&oa&&r(oa,"display","")};eb&&document.addEventListener("click",function(a){if(Za)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),Za=!1,!1},!0);var pb=function(a){if(ma){a=a.touches?a.touches[0]:a;var b=lb(a.clientX,a.clientY);if(b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.target=c.rootEl=b,c.preventDefault=void 0,c.stopPropagation=void 0,b[Ta]._onDragOver(c)}}},qb=function(a){ma&&ma.parentNode[Ta]._isOutsideThisEl(a.target)};Q.prototype={constructor:Q,_isOutsideThisEl:function(a){this.el.contains(a)||a===this.el||(Ha=null)},_getDirection:function(a,b){return"function"==typeof this.options.direction?this.options.direction.call(this,a,b,ma):this.options.direction},_onTapStart:function(a){if(a.cancelable){var b=this,c=this.el,d=this.options,e=d.preventOnFilter,f=a.type,g=a.touches&&a.touches[0]||a.pointerType&&"touch"===a.pointerType&&a,h=(g||a).target,i=a.target.shadowRoot&&(a.path&&a.path[0]||a.composedPath&&a.composedPath()[0])||h,j=d.filter;if(Z(c),!ma&&!(/mousedown|pointerdown/.test(f)&&0!==a.button||d.disabled)&&!i.isContentEditable&&(this.nativeDraggable||!Oa||!h||"SELECT"!==h.tagName.toUpperCase())&&!((h=p(h,d.draggable,c,!1))&&h.animated||ra===h)){if(ua=z(h),wa=z(h,d.draggable),"function"==typeof j){if(j.call(this,a,h,this))return P({sortable:b,rootEl:i,name:"filter",targetEl:h,toEl:c,fromEl:c}),Xa("filter",b,{evt:a}),void(e&&a.cancelable&&a.preventDefault())}else if(j&&(j=j.split(",").some(function(d){if(d=p(i,d.trim(),c,!1))return P({sortable:b,rootEl:d,name:"filter",targetEl:h,fromEl:c,toEl:c}),Xa("filter",b,{evt:a}),!0})))return void(e&&a.cancelable&&a.preventDefault());d.handle&&!p(i,d.handle,c,!1)||this._prepareDragStart(a,g,h)}}},_prepareDragStart:function(a,b,c){var d,e=this,f=e.el,g=e.options,h=f.ownerDocument;if(c&&!ma&&c.parentNode===f){var i=v(c);if(pa=f,ma=c,na=ma.parentNode,qa=ma.nextSibling,ra=c,ya=g.group,Q.dragged=ma,Aa={target:ma,clientX:(b||a).clientX,clientY:(b||a).clientY},Ea=Aa.clientX-i.left,Fa=Aa.clientY-i.top,this._lastX=(b||a).clientX,this._lastY=(b||a).clientY,ma.style["will-change"]="all",d=function(){if(Xa("delayEnded",e,{evt:a}),Q.eventCanceled)return void e._onDrop();e._disableDelayedDragEvents(),!Na&&e.nativeDraggable&&(ma.draggable=!0),e._triggerDragStart(a,b),P({sortable:e,name:"choose",originalEvent:a}),q(ma,g.chosenClass,!0)},g.ignore.split(",").forEach(function(a){t(ma,a.trim(),T)}),l(h,"dragover",pb),l(h,"mousemove",pb),l(h,"touchmove",pb),l(h,"mouseup",e._onDrop),l(h,"touchend",e._onDrop),l(h,"touchcancel",e._onDrop),Na&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ma.draggable=!0),Xa("delayStart",this,{evt:a}),!g.delay||g.delayOnTouchOnly&&!b||this.nativeDraggable&&(Ma||La))d();else{if(Q.eventCanceled)return void this._onDrop();l(h,"mouseup",e._disableDelayedDrag),l(h,"touchend",e._disableDelayedDrag),l(h,"touchcancel",e._disableDelayedDrag),l(h,"mousemove",e._delayedDragTouchMoveHandler),l(h,"touchmove",e._delayedDragTouchMoveHandler),g.supportPointer&&l(h,"pointermove",e._delayedDragTouchMoveHandler),e._dragStartTimer=setTimeout(d,g.delay)}}},_delayedDragTouchMoveHandler:function(a){var b=a.touches?a.touches[0]:a;Math.max(Math.abs(b.clientX-this._lastX),Math.abs(b.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ma&&T(ma),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var a=this.el.ownerDocument;m(a,"mouseup",this._disableDelayedDrag),m(a,"touchend",this._disableDelayedDrag),m(a,"touchcancel",this._disableDelayedDrag),m(a,"mousemove",this._delayedDragTouchMoveHandler),m(a,"touchmove",this._delayedDragTouchMoveHandler),m(a,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(a,b){b=b||"touch"==a.pointerType&&a,!this.nativeDraggable||b?this.options.supportPointer?l(document,"pointermove",this._onTouchMove):b?l(document,"touchmove",this._onTouchMove):l(document,"mousemove",this._onTouchMove):(l(ma,"dragend",this),l(pa,"dragstart",this._onDragStart));try{document.selection?$(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(a){}},_dragStarted:function(a,b){if(Ya=!1,pa&&ma){Xa("dragStarted",this,{evt:b}),this.nativeDraggable&&l(document,"dragover",qb);var c=this.options;!a&&q(ma,c.dragClass,!1),q(ma,c.ghostClass,!0),Q.active=this,a&&this._appendGhost(),P({sortable:this,name:"start",originalEvent:b})}else this._nulling()},_emulateDragOver:function(){if(Ba){this._lastX=Ba.clientX,this._lastY=Ba.clientY,nb();for(var a=document.elementFromPoint(Ba.clientX,Ba.clientY),b=a;a&&a.shadowRoot&&(a=a.shadowRoot.elementFromPoint(Ba.clientX,Ba.clientY))!==b;)b=a;if(ma.parentNode[Ta]._isOutsideThisEl(a),b)do{if(b[Ta]){if(b[Ta]._onDragOver({clientX:Ba.clientX,clientY:Ba.clientY,target:a,rootEl:b})&&!this.options.dragoverBubble)break}a=b}while(b=b.parentNode);ob()}},_onTouchMove:function(a){if(Aa){var b=this.options,c=b.fallbackTolerance,d=b.fallbackOffset,e=a.touches?a.touches[0]:a,f=oa&&s(oa,!0),g=oa&&f&&f.a,h=oa&&f&&f.d,i=fb&&Ka&&A(Ka),j=(e.clientX-Aa.clientX+d.x)/(g||1)+(i?i[0]-bb[0]:0)/(g||1),k=(e.clientY-Aa.clientY+d.y)/(h||1)+(i?i[1]-bb[1]:0)/(h||1);if(!Q.active&&!Ya){if(c&&Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))<c)return;this._onDragStart(a,!0)}if(oa){f?(f.e+=j-(Ca||0),f.f+=k-(Da||0)):f={a:1,b:0,c:0,d:1,e:j,f:k};var l="matrix(".concat(f.a,",").concat(f.b,",").concat(f.c,",").concat(f.d,",").concat(f.e,",").concat(f.f,")");r(oa,"webkitTransform",l),r(oa,"mozTransform",l),r(oa,"msTransform",l),r(oa,"transform",l),Ca=j,Da=k,Ba=e}a.cancelable&&a.preventDefault()}},_appendGhost:function(){if(!oa){var a=this.options.fallbackOnBody?document.body:pa,b=v(ma,!0,fb,!0,a),c=this.options;if(fb){for(Ka=a;"static"===r(Ka,"position")&&"none"===r(Ka,"transform")&&Ka!==document;)Ka=Ka.parentNode;Ka!==document.body&&Ka!==document.documentElement?(Ka===document&&(Ka=u()),b.top+=Ka.scrollTop,b.left+=Ka.scrollLeft):Ka=u(),bb=A(Ka)}oa=ma.cloneNode(!0),q(oa,c.ghostClass,!1),q(oa,c.fallbackClass,!0),q(oa,c.dragClass,!0),r(oa,"transition",""),r(oa,"transform",""),r(oa,"box-sizing","border-box"),r(oa,"margin",0),r(oa,"top",b.top),r(oa,"left",b.left),r(oa,"width",b.width),r(oa,"height",b.height),r(oa,"opacity","0.8"),r(oa,"position",fb?"absolute":"fixed"),r(oa,"zIndex","100000"),r(oa,"pointerEvents","none"),Q.ghost=oa,a.appendChild(oa),r(oa,"transform-origin",Ea/parseInt(oa.style.width)*100+"% "+Fa/parseInt(oa.style.height)*100+"%")}},_onDragStart:function(a,b){var c=this,d=a.dataTransfer,e=c.options;if(Xa("dragStart",this,{evt:a}),Q.eventCanceled)return void this._onDrop();Xa("setupClone",this),Q.eventCanceled||(sa=I(ma),sa.draggable=!1,sa.style["will-change"]="",this._hideClone(),q(sa,this.options.chosenClass,!1),Q.clone=sa),c.cloneId=$(function(){Xa("clone",c),Q.eventCanceled||(c.options.removeCloneOnHide||pa.insertBefore(sa,ma),c._hideClone(),P({sortable:c,name:"clone"}))}),!b&&q(ma,e.dragClass,!0),b?(Za=!0,c._loopId=setInterval(c._emulateDragOver,50)):(m(document,"mouseup",c._onDrop),m(document,"touchend",c._onDrop),m(document,"touchcancel",c._onDrop),d&&(d.effectAllowed="move",e.setData&&e.setData.call(c,d,ma)),l(document,"drop",c),r(ma,"transform","translateZ(0)")),Ya=!0,c._dragStartId=$(c._dragStarted.bind(c,b,a)),l(document,"selectstart",c),Ga=!0,Oa&&r(document.body,"user-select","none")},_onDragOver:function(a){function b(b,c){Xa(b,x,d({evt:a,isOwner:s,axis:j?"vertical":"horizontal",revert:i,dragRect:g,targetRect:h,canSort:t,fromSortable:u,target:l,completed:e,onMove:function(b,c){return S(pa,k,ma,g,b,v(b),a,c)},changed:f},c))}function c(){b("dragOverAnimationCapture"),x.captureAnimationState(),x!==u&&u.captureAnimationState()}function e(c){return b("dragOverCompleted",{insertion:c}),c&&(s?o._hideClone():o._showClone(x),x!==u&&(q(ma,za?za.options.ghostClass:o.options.ghostClass,!1),q(ma,m.ghostClass,!0)),za!==x&&x!==Q.active?za=x:x===Q.active&&za&&(za=null),u===x&&(x._ignoreWhileAnimating=l),x.animateAll(function(){b("dragOverAnimationComplete"),x._ignoreWhileAnimating=null}),x!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(l===ma&&!ma.animated||l===k&&!l.animated)&&(Ha=null),m.dragoverBubble||a.rootEl||l===document||(ma.parentNode[Ta]._isOutsideThisEl(a.target),!c&&pb(a)),!m.dragoverBubble&&a.stopPropagation&&a.stopPropagation(),A=!0}function f(){va=z(ma),xa=z(ma,m.draggable),P({sortable:x,name:"change",toEl:k,newIndex:va,newDraggableIndex:xa,originalEvent:a})}var g,h,i,j,k=this.el,l=a.target,m=this.options,n=m.group,o=Q.active,s=ya===n,t=m.sort,u=za||o,x=this,A=!1;if(!cb){if(void 0!==a.preventDefault&&a.cancelable&&a.preventDefault(),l=p(l,m.draggable,k,!0),b("dragOver"),Q.eventCanceled)return A;if(ma.contains(a.target)||l.animated&&l.animatingX&&l.animatingY||x._ignoreWhileAnimating===l)return e(!1);if(Za=!1,o&&!m.disabled&&(s?t||(i=!pa.contains(ma)):za===this||(this.lastPutMode=ya.checkPull(this,o,ma,a))&&n.checkPut(this,o,ma,a))){if(j="vertical"===this._getDirection(a,l),g=v(ma),b("dragOverValid"),Q.eventCanceled)return A;if(i)return na=pa,c(),this._hideClone(),b("revert"),Q.eventCanceled||(qa?pa.insertBefore(ma,qa):pa.appendChild(ma)),e(!0);var B=y(k,m.draggable);if(!B||V(a,j,this)&&!B.animated){if(B===ma)return e(!1);if(B&&k===a.target&&(l=B),l&&(h=v(l)),!1!==S(pa,k,ma,g,l,h,a,!!l))return c(),k.appendChild(ma),na=k,f(),e(!0)}else if(l.parentNode===k){h=v(l);var C,D=0,E=ma.parentNode!==k,F=!kb(ma.animated&&ma.toRect||g,l.animated&&l.toRect||h,j),G=j?"top":"left",I=w(l,"top","top")||w(ma,"top","top"),J=I?I.scrollTop:void 0;Ha!==l&&(C=h[G],_a=!1,ab=!F&&m.invertSwap||E),D=W(a,l,h,j,F?1:m.swapThreshold,null==m.invertedSwapThreshold?m.swapThreshold:m.invertedSwapThreshold,ab,Ha===l);var K;if(0!==D){var L=z(ma);do{L-=D,K=na.children[L]}while(K&&("none"===r(K,"display")||K===oa))}if(0===D||K===l)return e(!1);Ha=l,Ia=D;var M=l.nextElementSibling,N=!1;N=1===D;var O=S(pa,k,ma,g,l,h,a,N);if(!1!==O)return 1!==O&&-1!==O||(N=1===O),cb=!0,setTimeout(U,30),c(),N&&!M?k.appendChild(ma):l.parentNode.insertBefore(ma,N?M:l),I&&H(I,0,J-I.scrollTop),na=ma.parentNode,void 0===C||ab||(Ja=Math.abs(C-v(l)[G])),f(),e(!0)}if(k.contains(ma))return e(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){m(document,"mousemove",this._onTouchMove),m(document,"touchmove",this._onTouchMove),m(document,"pointermove",this._onTouchMove),m(document,"dragover",pb),m(document,"mousemove",pb),m(document,"touchmove",pb)},_offUpEvents:function(){var a=this.el.ownerDocument;m(a,"mouseup",this._onDrop),m(a,"touchend",this._onDrop),m(a,"pointerup",this._onDrop),m(a,"touchcancel",this._onDrop),m(document,"selectstart",this)},_onDrop:function(a){var b=this.el,c=this.options;if(va=z(ma),xa=z(ma,c.draggable),Xa("drop",this,{evt:a}),na=ma&&ma.parentNode,va=z(ma),xa=z(ma,c.draggable),Q.eventCanceled)return void this._nulling();Ya=!1,ab=!1,_a=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_(this.cloneId),_(this._dragStartId),this.nativeDraggable&&(m(document,"drop",this),m(b,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Oa&&r(document.body,"user-select",""),r(ma,"transform",""),a&&(Ga&&(a.cancelable&&a.preventDefault(),!c.dropBubble&&a.stopPropagation()),oa&&oa.parentNode&&oa.parentNode.removeChild(oa),(pa===na||za&&"clone"!==za.lastPutMode)&&sa&&sa.parentNode&&sa.parentNode.removeChild(sa),ma&&(this.nativeDraggable&&m(ma,"dragend",this),T(ma),ma.style["will-change"]="",Ga&&!Ya&&q(ma,za?za.options.ghostClass:this.options.ghostClass,!1),q(ma,this.options.chosenClass,!1),P({sortable:this,name:"unchoose",toEl:na,newIndex:null,newDraggableIndex:null,originalEvent:a}),pa!==na?(va>=0&&(P({rootEl:na,name:"add",toEl:na,fromEl:pa,originalEvent:a}),P({sortable:this,name:"remove",toEl:na,originalEvent:a}),P({rootEl:na,name:"sort",toEl:na,fromEl:pa,originalEvent:a}),P({sortable:this,name:"sort",toEl:na,originalEvent:a})),za&&za.save()):va!==ua&&va>=0&&(P({sortable:this,name:"update",toEl:na,originalEvent:a}),P({sortable:this,name:"sort",toEl:na,originalEvent:a})),Q.active&&(null!=va&&-1!==va||(va=ua,xa=wa),P({sortable:this,name:"end",toEl:na,originalEvent:a}),this.save()))),this._nulling()},_nulling:function(){Xa("nulling",this),pa=ma=na=oa=qa=sa=ra=ta=Aa=Ba=Ga=va=xa=ua=wa=Ha=Ia=za=ya=Q.dragged=Q.ghost=Q.clone=Q.active=null,db.forEach(function(a){a.checked=!0}),db.length=Ca=Da=0},handleEvent:function(a){switch(a.type){case"drop":case"dragend":this._onDrop(a);break;case"dragenter":case"dragover":ma&&(this._onDragOver(a),R(a));break;case"selectstart":a.preventDefault()}},toArray:function(){for(var a,b=[],c=this.el.children,d=0,e=c.length,f=this.options;d<e;d++)a=c[d],p(a,f.draggable,this.el,!1)&&b.push(a.getAttribute(f.dataIdAttr)||Y(a));return b},sort:function(a,b){var c={},d=this.el;this.toArray().forEach(function(a,b){var e=d.children[b];p(e,this.options.draggable,d,!1)&&(c[a]=e)},this),b&&this.captureAnimationState(),a.forEach(function(a){c[a]&&(d.removeChild(c[a]),d.appendChild(c[a]))}),b&&this.animateAll()},save:function(){var a=this.options.store;a&&a.set&&a.set(this)},closest:function(a,b){return p(a,b||this.options.draggable,this.el,!1)},option:function(a,b){var c=this.options;if(void 0===b)return c[a];var d=Wa.modifyOption(this,a,b);c[a]=void 0!==d?d:b,"group"===a&&mb(c)},destroy:function(){Xa("destroy",this);var a=this.el;a[Ta]=null,m(a,"mousedown",this._onTapStart),m(a,"touchstart",this._onTapStart),m(a,"pointerdown",this._onTapStart),this.nativeDraggable&&(m(a,"dragover",this),m(a,"dragenter",this)),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),$a.splice($a.indexOf(this.el),1),this.el=a=null},_hideClone:function(){if(!ta){if(Xa("hideClone",this),Q.eventCanceled)return;r(sa,"display","none"),this.options.removeCloneOnHide&&sa.parentNode&&sa.parentNode.removeChild(sa),ta=!0}},_showClone:function(a){if("clone"!==a.lastPutMode)return void this._hideClone();if(ta){if(Xa("showClone",this),Q.eventCanceled)return;ma.parentNode!=pa||this.options.group.revertClone?qa?pa.insertBefore(sa,qa):pa.appendChild(sa):pa.insertBefore(sa,ma),this.options.group.revertClone&&this.animate(ma,sa),r(sa,"display",""),ta=!1}}},eb&&l(document,"touchmove",function(a){(Q.active||Ya)&&a.cancelable&&a.preventDefault()}),Q.utils={on:l,off:m,css:r,find:t,is:function(a,b){return!!p(a,b,a,!1)},extend:D,throttle:F,closest:p,toggleClass:q,clone:I,index:z,nextTick:$,cancelNextTick:_,detectDirection:jb,getChild:x},Q.get=function(a){return a[Ta]},Q.mount=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];b[0].constructor===Array&&(b=b[0]),b.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(Q.utils=d({},Q.utils,a.utils)),Wa.mount(a)})},Q.create=function(a,b){return new Q(a,b)},Q.version="1.13.0";var rb,sb,tb,ub,vb,wb,xb=[],yb=!1,zb=F(function(a,b,c,d){if(b.scroll){var e,f=(a.touches?a.touches[0]:a).clientX,g=(a.touches?a.touches[0]:a).clientY,h=b.scrollSensitivity,i=b.scrollSpeed,j=u(),k=!1;sb!==c&&(sb=c,ba(),rb=b.scroll,e=b.scrollFn,!0===rb&&(rb=C(c,!0)));var l=0,m=rb;do{var n=m,o=v(n),p=o.top,q=o.bottom,s=o.left,t=o.right,w=o.width,x=o.height,y=void 0,z=void 0,A=n.scrollWidth,B=n.scrollHeight,D=r(n),E=n.scrollLeft,F=n.scrollTop;n===j?(y=w<A&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),
z=x<B&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(y=w<A&&("auto"===D.overflowX||"scroll"===D.overflowX),z=x<B&&("auto"===D.overflowY||"scroll"===D.overflowY));var G=y&&(Math.abs(t-f)<=h&&E+w<A)-(Math.abs(s-f)<=h&&!!E),I=z&&(Math.abs(q-g)<=h&&F+x<B)-(Math.abs(p-g)<=h&&!!F);if(!xb[l])for(var J=0;J<=l;J++)xb[J]||(xb[J]={});xb[l].vx==G&&xb[l].vy==I&&xb[l].el===n||(xb[l].el=n,xb[l].vx=G,xb[l].vy=I,clearInterval(xb[l].pid),0==G&&0==I||(k=!0,xb[l].pid=setInterval(function(){d&&0===this.layer&&Q.active._onTouchMove(vb);var b=xb[this.layer].vy?xb[this.layer].vy*i:0,c=xb[this.layer].vx?xb[this.layer].vx*i:0;"function"==typeof e&&"continue"!==e.call(Q.dragged.parentNode[Ta],c,b,a,vb,xb[this.layer].el)||H(xb[this.layer].el,c,b)}.bind({layer:l}),24))),l++}while(b.bubbleScroll&&m!==j&&(m=C(m,!1)));yb=k}},30),Ab=function(a){var b=a.originalEvent,c=a.putSortable,d=a.dragEl,e=a.activeSortable,f=a.dispatchSortableEvent,g=a.hideGhostForTarget,h=a.unhideGhostForTarget;if(b){var i=c||e;g();var j=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:b,k=document.elementFromPoint(j.clientX,j.clientY);h(),i&&!i.el.contains(k)&&(f("spill"),this.onSpill({dragEl:d,putSortable:c}))}};da.prototype={startIndex:null,dragStart:function(a){var b=a.oldDraggableIndex;this.startIndex=b},onSpill:function(a){var b=a.dragEl,c=a.putSortable;this.sortable.captureAnimationState(),c&&c.captureAnimationState();var d=x(this.sortable.el,this.startIndex,this.options);d?this.sortable.el.insertBefore(b,d):this.sortable.el.appendChild(b),this.sortable.animateAll(),c&&c.animateAll()},drop:Ab},c(da,{pluginName:"revertOnSpill"}),ea.prototype={onSpill:function(a){var b=a.dragEl,c=a.putSortable,d=c||this.sortable;d.captureAnimationState(),b.parentNode&&b.parentNode.removeChild(b),d.animateAll()},drop:Ab},c(ea,{pluginName:"removeOnSpill"});var Bb,Cb,Db,Eb,Fb,Gb,Hb=[],Ib=[],Jb=!1,Kb=!1,Lb=!1;return Q.mount(new aa),Q.mount(ea,da),Q.mount(new fa),Q.mount(new ha),Q});var dfd_header_b=dfd_header_b||{};dfd_header_b.View=[],dfd_header_b.View.Input=[],dfd_header_b.View.Setting=[],dfd_header_b.Model=[],dfd_header_b.Collection=[],dfd_header_b.APP=[],dfd_header_b.HTMLEntity={},dfd_header_b.isInitColorPicker=!1,dfd_header_b.isInitSlider=!1,dfd_header_b.changeslider=!0,dfd_header_b.isFirstStart=!0,dfd_header_b.isnotifyEnable=!0,dfd_header_b.isClickedNewPreset=!1,dfd_header_b.sidePadding=30,dfd_header_b.Padding=10,dfd_header_b.isInit=!1,function(a){a(document).ready(function(){initHeaderBuilder=function(){dfd_header_b.APP.appview=new dfd_header_b.View.AppView,dfd_header_b.APP.settingview=new dfd_header_b.View.SettingsView};var b=a("input[name='native[is_header_builder_enabled]']:checked").val();a("#native-header_builder").is(":visible")&&"on"==b&&(initHeaderBuilder(),dfd_header_b.isInit=!0),a("#native-is_header_builder_enabled").find(".dfd-options-two-buttons-set").one("click",function(){setTimeout(function(){"on"==a("input[name='native[is_header_builder_enabled]']:checked").val()&&(initHeaderBuilder(),dfd_header_b.isInit=!0)},200)}),a(".redux-group-tab-link-li").on("click",function(){dfd_header_b.isInit||"on"!=b||a("#native-header_builder").is(":visible")&&(initHeaderBuilder(),dfd_header_b.isInit=!0)})})}(jQuery);var dfd_header_b=dfd_header_b||{};dfd_header_b.HTMLEntity={BuilderApp:{top:{left:"#dfd_header_t_preview .top .t_l1_left.left .wrapper",center:"#dfd_header_t_preview .top .t_l2_left.center .wrapper",right:"#dfd_header_t_preview .top .t_l3_left.right .wrapper"},middle:{left:"#dfd_header_t_preview .middle .t_l1_left.left .wrapper",center:"#dfd_header_t_preview .middle .t_l2_left.center .wrapper",right:"#dfd_header_t_preview .middle .t_l3_left.right .wrapper"},bottom:{left:"#dfd_header_t_preview .bottom .t_l1_left.left .wrapper",center:"#dfd_header_t_preview .bottom .t_l2_left.center .wrapper",right:"#dfd_header_t_preview .bottom .t_l3_left.right .wrapper"}},emulateDrag:{wrrap:".t_wrap",wrrap_left:".t_wrap .left",wrrap_right:".t_wrap .right"},Sortable:{controls_block:"dfd_header_t_controls",preset_close:".preset-window .close"},MainBlocks:{preview:"#dfd_header_t_preview",controls:"#dfd_header_t_controls"},start_drag_class:"start-drag",resetBtn:".button-view-switcher .dfd-options-button-cover",optionInput:"#header_builder_options"},dfd_header_b.APP.Builder=function(a){return position={top:{left:"",center:"",right:""},middle:{left:"",center:"",right:""},bottom:{left:"",center:"",right:""}},initPosition=function(){position={top:{left:a(dfd_header_b.HTMLEntity.BuilderApp.top.left),center:a(dfd_header_b.HTMLEntity.BuilderApp.top.center),right:a(dfd_header_b.HTMLEntity.BuilderApp.top.right)},middle:{left:a(dfd_header_b.HTMLEntity.BuilderApp.middle.left),center:a(dfd_header_b.HTMLEntity.BuilderApp.middle.center),right:a(dfd_header_b.HTMLEntity.BuilderApp.middle.right)},bottom:{left:a(dfd_header_b.HTMLEntity.BuilderApp.bottom.left),center:a(dfd_header_b.HTMLEntity.BuilderApp.bottom.center),right:a(dfd_header_b.HTMLEntity.BuilderApp.bottom.right)}}},clearAll=function(){position.top.left.html(""),position.top.center.html(""),position.top.right.html(""),position.middle.left.html(""),position.middle.center.html(""),position.middle.right.html(""),position.bottom.left.html(""),position.bottom.center.html(""),position.bottom.right.html("")},build=function(a){triggerReset(),initPosition(),clearAll(),buildPreset(a),dfd_header_b.APP.collection.trigger("reInit")},buildPreset=function(a){var b=dfd_header_b.Config.getCurrentSetting();dfd_header_b.Config.getGlobalSetting();if(""!=b){dfd_header_b.Helper.normalizeLocalSetting();var b=dfd_header_b.Config.getCurrentSetting();dfd_header_b.Config.setSettingByView(b)}else{dfd_header_b.APP.settingCollection.trigger("reset");var c=dfd_header_b.APP.settingCollection.toJSON(),d=dfd_header_b.APP.globalSettingCollection.toJSON();dfd_header_b.Config.setSettingByView(c),dfd_header_b.Config.setGlobalSetting(d)}a=void 0==a,a?dfd_header_b.View.Setting.init():dfd_header_b.View.Setting.reInit();var e=dfd_header_b.Config.getCurrentPreset();for(var f in e){var g=e[f];for(var h in g){var i=g[h];for(var j in i)_.isObject(i[j])&&pasteObjToGrid(f,h,i[j])}}this.addMarkerToCol(),dfd_header_b.Helper.calculateOptimalLogoWidth(),dfd_header_b.Dependency.init()},addMarkerToCol=function(){switcher=function(b){a(b).children().length>0?a(b).addClass("hasEl"):a(b).removeClass("hasEl")};for(var b in this.position){var c=this.position[b];switcher(c.left),switcher(c.center),switcher(c.right)}},pasteObjToGrid=function(a,b,c){var d=c.type,e="",f="";a=parseInt(a),b=parseInt(b);var g=dfd_header_b.View.Setting.canShow();switch(a){case 0:!dfd_header_b.View.Setting.isShowTopPanel()&&g||(e="top");break;case 1:!dfd_header_b.View.Setting.isShowMidPanel()&&g||(e="middle");break;case 2:!dfd_header_b.View.Setting.isShowBotPanel()&&g||(e="bottom")}switch(b){case 0:f="left";break;case 1:g&&(f="center");break;case 2:g&&(f="right")}if(""!=e&&""!=f){var h=dfd_header_b.APP.collection.where({type:d});"delimiter"!=h[0].get("type")&&"spacer"!=h[0].get("type")||(h[0]=h[0].clone());var i=h[0],j=new dfd_header_b.View.ElementPrevView({model:i});position[e][f].append(j.render().el),dfd_header_b.APP.collection_prev.add(i),dfd_header_b.APP.collection.remove(i)}},triggerReset=function(){dfd_header_b.APP.collection.reset(),dfd_header_b.APP.collection_prev.reset();var a=dfd_header_b.Helper.normalizeElementsCollection();dfd_header_b.APP.collection.reset(a,{parse:!0}),dfd_header_b.APP.settingCollection.reset(dfd_header_b.PreSetting,{parse:!0})},addEllToPreview=function(){},{build:build}}(jQuery);var dfd_header_b=dfd_header_b||{};!function(a){"use strict";dfd_header_b.View.Add_Preset=Backbone.View.extend({mainTemplate:"",el:".add-preset-app",curentStyleHeader:"",hide:!1,events:{},initialize:function(b){void 0!==b&&(this.hide=b.hide),this.hasError=!1,this.ErrorMessage="",this.mainTemplate=_.template(a("#dfd_header_t_add_preset").html()),this.listenTo(this,"addError",this.addErrorMessage),this.listenTo(this,"addEvents",_.debounce(this.ev,0)),this.curentStyleHeader=dfd_header_b.View.Setting.getHeaderStyle(),this.trigger("addEvents")},ev:function(){var b=this;this.elem=this.$el.find("[type='submit']"),this.elem.on("click",function(){b.save()}),this.$el.find(".dfd-tiles").on("click",function(){var c=a(this).prev();return b.$el.find("label.redux-image-select").removeClass("redux-image-select-selected"),a(this).parent().addClass("redux-image-select-selected"),b.curentStyleHeader=c.val(),!1})},addErrorMessage:function(){this.$(".error").html(""),this.$(".error").show(),this.$(".error").append(this.ErrorMessage)},save:function(a){var b=this.newAttributes();if(_.isObject(b)){var c=dfd_header_b.APP.presets.where({isActive:"active"});for(var d in c)c[d].set({isActive:""});dfd_header_b.APP.presets.add([b]),b.trigger("select"),dfd_header_b.Helper.saveChanges(),tb_remove(),dfd_header_b.Helper.presetWindowIsOpen||dfd_header_b.Helper.openPresetWindow(),this.elem.unbind("click")}else this.trigger("addError");return!1},newAttributes:function(){var a=dfd_header_b.Helper.getDefaultPresetAndSettingsVal(this.curentStyleHeader),b=a.preset,c=a.settings;1==dfd_header_b.isClickedNewPreset&&(dfd_header_b.Config.clearEditView(),dfd_header_b.Config.clearSetting(),dfd_header_b.Config.setSetting(c));var d=new dfd_header_b.Model.Preset;return 0==dfd_header_b.Config.editView.desktop.length&&(!1,dfd_header_b.Config.editView.desktop=b.desktop),0==dfd_header_b.Config.editView.tablet.length&&(!1,dfd_header_b.Config.editView.tablet=b.tablet),0==dfd_header_b.Config.editView.mobile.length&&(!1,dfd_header_b.Config.editView.mobile=b.mobile),d.set({name:this.$input.val().trim(),isActive:"active",copyProc:"true",presetValues:{desktop:dfd_header_b.Config.editView.desktop,tablet:dfd_header_b.Config.editView.tablet,mobile:dfd_header_b.Config.editView.mobile},settings:{desktop:dfd_header_b.Config.settings.desktop,tablet:dfd_header_b.Config.settings.tablet,mobile:dfd_header_b.Config.settings.mobile,globals:dfd_header_b.Config.globalSetting}}),d.isValid()?d:(this.hasError=!0,this.ErrorMessage=d.validationError,dfd_header_b.isClickedNewPreset,d.validationError)},render:function(){if(this.$el.html(""),this.$el.append(this.mainTemplate({hide:this.hide})),!this.hide){var b=a("#native-style_header_builder"),c=b.clone();this.$el.append(c)}return this.$input=this.$(".add_name"),this}})}(jQuery);var dfd_header_b=dfd_header_b||{};!function(a){"use strict";dfd_header_b.View.Preset_View=Backbone.View.extend({mainTemplate:"",events:{click:"selectPreset","click .delete":"delete","click .copy":"copyel","click .rename":"rename","click .change-name":"changeName","click [type='submit']":"saveChanges"},initialize:function(){this.model.set("active",""),this.mainTemplate=_.template(a("#dfd_header_t_preset_elem").html()),this.model.on("invalid",function(a,b){alert(b)}),this.listenTo(this.model,"select",this.sel),this.listenTo(this.model,"removeActive",this.removeActive),this.listenTo(this.model,"change:name",this.viewNameChange)},sel:function(){this.selectPreset()},viewNameChange:function(a){var b=this.model.get("name");this.$el.find(".name").html(b),dfd_header_b.Helper.saveChanges()},delete:function(){if(!confirm("Preset will be deleted. Are  your sure?"))return!1;var a=dfd_header_b.Helper.getDefaultPresetAndSettingsVal(),b=a.preset,c=a.settings,d=this.model.get("id");dfd_header_b.APP.presets.remove(d),this.$el.remove(),dfd_header_b.Config.clearEditView(),dfd_header_b.Config.clearSetting(),dfd_header_b.Config.clearView(),dfd_header_b.Helper.saveChanges(),dfd_header_b.Config.setPreset(b),dfd_header_b.Config.setSetting(c),dfd_header_b.Helper.addLoader(),setTimeout(function(){dfd_header_b.APP.Builder.build()},100)},changeName:function(){var a=this.$el.find("input[name='edit_name']").val();this.model.set({name:a},{validate:!0})},rename:function(){this.$el.find(".rename_preset").toggleClass("show")},copyel:function(){var a=(this.model.get("id"),this.model.get("name")+" Copy"),b=this.model.get("overlayContent");this.model.set({isActive:""});var c=new dfd_header_b.Model.Preset;c.set({id:c.cid,isActive:"active",name:a,copyProc:"true",isDefault:!1,presetValues:this.model.get("presetValues"),settings:this.model.get("settings"),overlayContent:b}),this.model.trigger("removeActive"),dfd_header_b.Config.clearEditView(),dfd_header_b.Config.clearSetting(),dfd_header_b.APP.presets.add([c]);var d=c.get("presetValues"),e=c.get("settings");dfd_header_b.Config.setPreset(d),dfd_header_b.Config.setSetting(e),dfd_header_b.Helper.saveChanges(),setTimeout(function(){dfd_header_b.APP.Builder.build()},100)},saveChanges:function(){},selectPreset:function(b){if(this.$el.hasClass("active"))return!1;if("active"==this.model.get("isActive")&&_.isObject(b))return!1;var c=dfd_header_b.APP.presets.where({isActive:"active"});for(var d in c)c[d].set({isActive:""});var e=this.model.get("name");dfd_header_b.Config.curentPreset=e,this.model.set({isActive:"active"}),this.model.trigger("removeActive"),a(this.$el).toggleClass("active"),dfd_header_b.Config.clearEditView(),dfd_header_b.Config.clearSetting();var f=this.model.get("presetValues"),g=this.model.get("settings");dfd_header_b.Config.setPreset(f),dfd_header_b.Config.setSetting(g),dfd_header_b.Helper.addLoader(),dfd_header_b.changeslider=!0,setTimeout(function(){dfd_header_b.isnotifyEnable=!1,dfd_header_b.APP.Builder.build(),dfd_header_b.Helper.saveChanges(!1)},100),dfd_header_b.isnotifyEnable=!0,dfd_header_b.Helper.checkSetOnDefault()},className:function(){return"preset"},removeActive:function(){a(this.$el).siblings().removeClass("active")},render:function(){return this.$el.append(this.mainTemplate(this.model.toJSON())),this}})}(jQuery);var dfd_header_b=dfd_header_b||{};!function(a){"use strict";dfd_header_b.View.Presets_View=Backbone.View.extend({el:".preset-window .list",mainTemplate:"",events:{},initialize:function(){this.listenTo(dfd_header_b.APP.presets,"add",_.debounce(this.add,0)),this.listenTo(dfd_header_b.APP.presets,"all",_.debounce(this.render,0)),this.listenTo(dfd_header_b.APP.presets,"reset",_.debounce(this.reset,0)),this.listenTo(dfd_header_b.APP.presets,"change",this.change),this.listenTo(dfd_header_b.APP.presets,"triggerActive",this.triggerActive);var b=a(dfd_header_b.HTMLEntity.optionInput).val(),c=[];if(dfd_header_b_DefaultPresets)for(var d in dfd_header_b_DefaultPresets)c.push(dfd_header_b_DefaultPresets[d]);if(""!=b.trim()){var e=JSON.parse(b);for(var f in e)c.push(e[f])}dfd_header_b.APP.presets.reset(c,{parse:!0})},sel:function(a){},add:function(a){var b=new dfd_header_b.View.Preset_View({model:a});this.$el.append(b.render().el),"active"==a.get("isActive")&&a.trigger("select")},triggerActive:function(a){this.filterOne(a)},filterOne:function(a){return!1},change:function(a){this.filterOne(a)},reset:function(a,b){this.$el.html(""),dfd_header_b.APP.presets.each(this.add,this)},render:function(){return this}})}(jQuery);var dfd_header_b=dfd_header_b||{};dfd_header_b.APP.Sortable=function(a){controls={left:[],right:[],center:[]};var b=!1,c=dfd_header_b.HTMLEntity.Sortable.controls_block;return emulateDrag=function(){a(dfd_header_b.HTMLEntity.emulateDrag.wrrap).addClass("start"),a(dfd_header_b.HTMLEntity.emulateDrag.wrrap_left).addClass("start"),a(dfd_header_b.HTMLEntity.emulateDrag.wrrap_right).addClass("start")},getValuesFormAllCells=function(){for(var a=[[0,0,0],[0,0,0],[0,0,0]],b=0;b<3;b++)for(j=0;j<3;j++)switch(j){case 0:controls.left[b]&&(a[b][j]=getModelsByIds(controls.left[b].toArray()));break;case 1:controls.center[b]&&(a[b][j]=getModelsByIds(controls.center[b].toArray()));break;case 2:controls.right[b]&&(a[b][j]=getModelsByIds(controls.right[b].toArray()))}return a},emulateParse=function(){var b=getValuesFormAllCells(),c=JSON.stringify(b,["id","name","type","isfullwidth"],4);a(".debug").show(),a(".debug.left").html(c)},_copyPresetCode=function(){var a=dfd_header_b.APP.presets.findWhere({isActive:"active"}),b=a.get("settings");dfd_header_b.Helper.removeNullEl(b,"desktop"),dfd_header_b.Helper.removeNullEl(b,"tablet"),dfd_header_b.Helper.removeNullEl(b,"mobile"),dfd_header_b.Helper.removeNullEl(b,"globals"),a.set({settings:b});JSON.stringify(a)},_debug=function(){var b=dfd_header_b.APP.collection.toArray(),c=dfd_header_b.APP.collection_prev.toArray(),d=JSON.stringify(b,["id","type","isfullwidth"],4),e=JSON.stringify(c,["id","type","isfullwidth"],4);a(".debug").show(),a(".debug.right").html(e+"<br>--------<br>"),a(".debug.right").append(d)},events=function(){a(dfd_header_b.HTMLEntity.MainBlocks.preview).on("mouseover",".c_el",function(){return!1}),a(dfd_header_b.HTMLEntity.MainBlocks.preview).on("mouseleave",".container",function(){a(this).removeClass("hover-element");return!1}),a(dfd_header_b.HTMLEntity.MainBlocks.preview).on("mouseleave",".c_el",function(){a(this).parents(".container").removeClass("hover-element");return!1}),a(dfd_header_b.HTMLEntity.Sortable.preset_close).on("click",function(){a(this).parent().parent().removeClass("preset-open")})},getModelsByIds=function(a){return _.map(a,function(a){var b=dfd_header_b.APP.collection.get(a);return _.isObject(b)?b:dfd_header_b.APP.collection_prev.get(a)})},init=function(){a(".c_el").on("touch touchmove",function(){a("body").disablescroll()});var d=a("#"+c)[0];if(b)return!1;events(),createSort(d,"controls",["controls","preview_left","preview_center","preview_right"]);var e=a(".t_wrap .t_l1_left .wrapper"),f=a(".t_wrap .t_l2_left .wrapper"),g=a(".t_wrap .t_l3_left .wrapper");e.each(function(){controls.left.push(createSort(this,"preview_left",["controls","preview_left","preview_center","preview_right"]))}),f.each(function(){controls.center.push(createSort(this,"preview_center",["controls","preview_left","preview_center","preview_right"]))}),g.each(function(){controls.right.push(createSort(this,"preview_right",["controls","preview_left","preview_center","preview_right"]))}),b=!0},EventObject={item:"",from:"",to:"",from_id:"",to_id:"",model_id:"",direction_from:"",direction_to:"",clear:function(){this.item="",this.from="",this.to="",this.from_id="",this.to_id="",this.model_id="",this.direction_from="",this.direction_to=""},getDirection:function(){return this.direction_from+"To"+this.direction_to},setDirection:function(){var b=a(this.from).hasClass("wrapper");this.direction_from=b?"prev":"controls";var c=a(this.to).hasClass("wrapper");this.direction_to=c?"prev":"controls"}},prepareObject=function(b){EventObject.clear(),EventObject.item=b.item,EventObject.from=b.from,EventObject.to=b.to,EventObject.from_id=a(EventObject.from).attr("id"),EventObject.to_id=a(EventObject.to).attr("id"),EventObject.model_id=a(EventObject.item).attr("id"),EventObject.setDirection()},addElement=function(a){prepareObject(a);var b=EventObject.getDirection(),c=dfd_header_b.APP.collection.get(EventObject.model_id),d=dfd_header_b.APP.collection_prev.get(EventObject.model_id);if(_.isObject(c)){var e=c.get("onlimit");0==e&&(dfd_header_b.APP.collection_prev.add(c),dfd_header_b.APP.collection.remove(c))}if(_.isObject(d)){var e=d.get("onlimit");0==e&&"prevToprev"!=b&&(dfd_header_b.APP.collection.add(d),dfd_header_b.APP.collection_prev.remove(d))}},addOnLimitElements=function(a){prepareObject(a);var b=dfd_header_b.APP.collection.get(EventObject.model_id),d=dfd_header_b.APP.collection_prev.get(EventObject.model_id),e=!1;if(_.isObject(b)){e=b.get("onlimit");var f=b.get("type");if(1==e&&EventObject.from_id==c){var g=b.clone();g.set("id","");dfd_header_b.APP.collection.where({type:f}).length<=1&&dfd_header_b.APP.collection.add(g),dfd_header_b.APP.collection.remove(b),dfd_header_b.APP.collection_prev.add(b)}}_.isObject(d)&&1==(e=d.get("onlimit"))&&EventObject.to_id==c&&(dfd_header_b.APP.collection_prev.remove(d),dfd_header_b.APP.collection.add(d)),dfd_header_b.Helper.saveChanges(),setTimeout(function(){dfd_header_b.APP.Builder.build()},50)},createSort=function(b,c,d,e){return Sortable.create(b,{group:{name:c,put:d},onStart:function(b){a(dfd_header_b.HTMLEntity.emulateDrag.wrrap).addClass("start"),a(dfd_header_b.HTMLEntity.emulateDrag.wrrap_left).addClass("start"),a(dfd_header_b.HTMLEntity.emulateDrag.wrrap_right).addClass("start"),dfd_header_b.Helper.claerTransformMiddleBlock(),dfd_header_b.Helper.RoundContentTransform(),b.oldIndex},onMove:function(b){a(b.dragged).hasClass("Logo")&&dfd_header_b.Helper.calculateOptimalLogoWidth()},onAdd:function(a){addOnLimitElements(a),addElement(a),""==dfd_header_b.Config.getCurentPresetName()&&(dfd_header_b.Helper.addPresetWindow({hide:!0}),dfd_header_b.isClickedNewPreset=!1)},onEnd:function(b){a(dfd_header_b.HTMLEntity.emulateDrag.wrrap).removeClass("start"),a(dfd_header_b.HTMLEntity.emulateDrag.wrrap_left).removeClass("start"),a(dfd_header_b.HTMLEntity.emulateDrag.wrrap_right).removeClass("start"),a(b.item).removeClass(dfd_header_b.HTMLEntity.start_drag_class),dfd_header_b.Helper.calculateOptimalLogoWidth(),dfd_header_b.Helper.claerTransformMiddleBlock(),dfd_header_b.Helper.RoundContentTransform(),dfd_header_b.Helper.saveChanges(),a("body").disablescroll("undo")},scroll:!1,filter:".hover-controls",onFilter:function(a){},setData:function(b,c){a(c).addClass(dfd_header_b.HTMLEntity.start_drag_class),b.setData("Text",c.textContent)},animation:100})},{init:init,controls:controls,getValuesFormAllCells:getValuesFormAllCells}}(jQuery);var dfd_header_b=dfd_header_b||{};!function(a,b){"use strict";dfd_header_b.Helper={presetWindowIsOpen:!1,addPresetWindow:function(b){tb_show("Add new preset","#TB_inline?width=750&height=600&inlineId=examplePopup1"),a("#TB_window").addClass("add-preset"),new dfd_header_b.View.Add_Preset(b).render()},getFileExtension:function(a){var b=/^.+\.([^.]+)$/.exec(a);return null==b?"":b[1]},getBigImgFromthumb:function(a){var b=a.match(/(.*)-[\d]{1,5}x/);if(b){var c=this.getFileExtension(a);b=b[1]+"."+c}else b=a;return b},classSwitcher:function(a,b,c,d){for(var e=0;e<b.length;e++){if(a==b[e]){var f=d+"_"+a;!function(){for(var a=0;a<b.length;a++){var e=d+"_"+b[a];c.removeClass(e)}}(),c.addClass(f)}}},roundCssTransformMatrix:function(a){var c=b.getComputedStyle(a,null);c=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("-moz-transform")||c.getPropertyValue("-ms-transform")||c.getPropertyValue("-o-transform")||c.getPropertyValue("transform")||!1;var d=c.replace(/ |\(|\)|matrix/g,"").split(",");for(var e in d)d[e]=e>4?Math.ceil(d[e]):d[e];return d},claerTransformMiddleBlock:function(){a("#container_middle_builder").css("transform","")},RoundContentTransform:function(){var b=a("#container_middle_builder"),c=this;setTimeout(function(){if(c.CanUseOptionInSideHeader()){var a=document.getElementById("container_middle_builder"),d=c.roundCssTransformMatrix(a);b.css({transform:"matrix("+d.join()+")"})}else b.css({transform:""})},100)},setDelimiterWidth:function(){var b=dfd_header_b.APP.globalSettingCollection.findWhere({id:"header_side_bar_width_builder"}),c=b.get("value"),d=dfd_header_b.APP.globalSettingCollection.findWhere({id:"header_border_color_build"});if(!_.isObject(d))var d=dfd_header_b.APP.settingCollection.findWhere({id:"header_border_color_build"});var e=d.get("value"),f=(JSON.parse(e),c-2*dfd_header_b.sidePadding),g=".header_builder_app #dfd_header_t_preview.side-header .Delimiter{ width : "+f+"px !important;} ";g+=" .header_builder_app #dfd_header_t_preview.side-header .Delimiter:after{width : "+c+"px !important;}",a("#header_builder_style").html(""),a("#header_builder_style").append(g)},getColor:function(a,b){var c;c=b?dfd_header_b.APP.settingCollection.findWhere({id:a}):dfd_header_b.APP.globalSettingCollection.findWhere({id:a});var d=c.get("value"),e=JSON.parse(d),f="";if("true"==e.is_transparent)f="transparent";else if(""==e.color){if(""==(f=c.get("def")))for(var g in dfd_header_b.PreSetting){var h=dfd_header_b.PreSetting[g];if(h.id==setting.id){f=h.def;break}}}else f=e.color;return f},SetColor:function(){var b=this.getColor("header_top_background_color_build",!0),c=this.getColor("header_mid_background_color_build",!0),d=this.getColor("header_bot_background_color_build",!0),e=this.getColor("header_border_color_build",!0),f=this.getColor("header_top_text_color_build",!0),g=this.getColor("header_mid_text_color_build",!0),h=this.getColor("header_bot_text_color_build",!0),i=this.getColor("header_side_background_color_builder"),j="#dfd_header_t_preview:not(.side-header) .top{background:"+b+";border-color:"+e+";}#dfd_header_t_preview .top{color:"+f+";}#dfd_header_t_preview:not(.side-header) .middle{background:"+c+";border-color:"+e+";}#dfd_header_t_preview .middle{color:"+g+";}#dfd_header_t_preview:not(.side-header) .bottom{background:"+d+";border-color:"+e+";}#dfd_header_t_preview .bottom{color:"+h+";}#dfd_header_t_preview .top .top-inner-page > span > span{background:"+f+";}#dfd_header_t_preview .middle .top-inner-page > span > span {background:"+g+";}#dfd_header_t_preview .bottom .top-inner-page > span > span{background:"+h+";}#dfd_header_t_preview .top .dl-menuwrapper .icon-wrap{background:"+f+";}#dfd_header_t_preview .middle .dl-menuwrapper .icon-wrap{background:"+g+";}#dfd_header_t_preview .bottom .dl-menuwrapper .icon-wrap{background:"+h+";}.header_builder_app .header_builder_wrapper #dfd_header_t_preview .container{border-color:"+e+";}#dfd_header_t_preview .dfd-header-delimiter{border-color:"+e+";}#dfd_header_t_preview .Delimiter{border-color:"+e+";}.header_builder_app #dfd_header_t_preview.side-header .dfd_header_t_preview_wrapper{background-color:"+i+";}",k=this.getWidthEl("header_telephone_builder"),l=this.getWidthEl("header_copyright_builder"),m=this.getTopInfoWidth(),n=this.getWishListWidth(),o=this.getLoginWidth();j+="#dfd_header_t_preview .Telephone.c_el{min-width:"+k+"px;}",j+="#dfd_header_t_preview .Copyright-message.c_el{min-width:"+l+"px;}",j+="#dfd_header_t_preview .Info.c_el{min-width:"+m+"px;}",j+="#dfd_header_t_preview .Wishlist.c_el{min-width:"+n+"px;}",j+="#dfd_header_t_preview .Login.c_el{min-width:"+o+"px;}",a("#header_builder_colors").html(""),a("#header_builder_colors").append(j)},getWidthEl:function(b){var c=dfd_header_b.APP.globalSettingCollection.findWhere({id:b});if(_.isObject(c)){var d=c.get("value"),e=a(".calculate_width");e.html(d);var f=e.width()+2*dfd_header_b.Padding+1;if(dfd_header_b.Helper.CanUseOptionInSideHeader()){f+=2*dfd_header_b.sidePadding;var g=dfd_header_b.APP.globalSettingCollection.findWhere({id:"header_side_bar_width_builder"}),h=g.get("value");h<f?f=h-2*dfd_header_b.sidePadding:f-=2*dfd_header_b.sidePadding}return e.html(""),f}return""},getTopInfoWidth:function(){var b=a(".calculate_top_info_width");b.show();var c=b.width()+2*dfd_header_b.Padding+1;if(dfd_header_b.Helper.CanUseOptionInSideHeader()){c+=2*dfd_header_b.sidePadding;var d=dfd_header_b.APP.globalSettingCollection.findWhere({id:"header_side_bar_width_builder"}),e=d.get("value");e<c?c=e-2*dfd_header_b.sidePadding:c-=2*dfd_header_b.sidePadding}return b.hide(),c},getWishListWidth:function(){var b=a(".calulate_wishlist_width");b.show();var c=b.width()+2*dfd_header_b.Padding+1;return b.hide(),c>55?c:""},getLoginWidth:function(){var b=a(".calulate_login_width");b.show();var c=b.width()+2*dfd_header_b.Padding+1;return b.hide(),c},CanUseOptionInSideHeader:function(){var a=dfd_header_b.View.Setting.getHeaderStyle(),b=dfd_header_b.Config.getCurentView();return"side"==a&&"desktop"==b},deleteByView:function(a,b,c){var d=a[b];for(var e in d){var f=d[e];_.isObject(f)&&f.isGlobal==c&&delete d[e]}this.removeNullEl(a,b)},removeNullEl:function(a,b){for(var c=a[b],d=c.length-1;d>=0;d--)null==c[d]&&c.splice(d,1);return c},getDefaultPresetAndSettingsVal:function(a){void 0===a&&(a=dfd_header_b.View.Setting.getHeaderStyle());var b,c;switch(a){case"horizontal":b=dfd_header_b.Default.presetValues,c=dfd_header_b.Default.settings;break;case"side":b=dfd_header_b.DefaultPresetSide.presetValues,c=dfd_header_b.DefaultPresetSide.settings;break;case"boxed":b=dfd_header_b.DefaultPresetBoxed.presetValues,c=dfd_header_b.DefaultPresetBoxed.settings;break;default:b=dfd_header_b.Default.presetValues,c=dfd_header_b.Default.settings}return{preset:b,settings:c}},stringifyValus:function(){dfd_header_b.Config.setPresetState();var a=dfd_header_b.APP.presets.where({isDefault:!1});for(var b in a){var c=a[b],d=c.get("settings");this.deleteByView(d,"desktop","true"),this.deleteByView(d,"tablet","true"),this.deleteByView(d,"mobile","true"),this.deleteByView(d,"globals","false")}return a=JSON.stringify(a,["name","isActive","presetValues","type","desktop","mobile","tablet","settings","id","value","def","globals","isGlobal","color","isfullwidth","is_transparent","overlayContent"])},openPresetWindow:function(){var b=a(".preset-window"),c=b.parent();return c.toggleClass("preset-open"),c.hasClass("preset-open")?this.presetWindowIsOpen=!0:this.presetWindowIsOpen=!1,!1},calculateOptimalLogoWidth:function(){var b=function(){var b=a("#dfd_header_t_preview .c_el.port.Logo"),c=b.find("img"),d=b.parent();if(void 0===(c=c[0]))return!1;var e=c.naturalHeight,f=c.naturalWidth;if(void 0===e&&void 0===f)return!1;var g=f/e,h=d.height(),i=h*g;h>e&&(i=f),i+=2*dfd_header_b.Padding,i-=1,"mobile"!=dfd_header_b.Config.getCurentView()?b.addClass("init").css({width:i,"max-width":i,"min-width":i}):b.addClass("init").removeAttr("style")};setTimeout(function(){dfd_header_b.Helper.CanUseOptionInSideHeader()||b()},200)},addLoader:function(){a(".header_builder_app ").addClass("init")},removeLoader:function(){a(".header_builder_app ").removeClass("init")},hideSetting:function(){var b=a("#info-grid_info_setting_builder");b.hide(),b.next().hide()},showSetting:function(){var b=a("#info-grid_info_setting_builder");b.show(),b.next().show()},isDefaultCurentPreset:function(){var a=dfd_header_b.APP.presets.findWhere({isActive:"active"});if(_.isObject(a)){return!!a.get("isDefault")}return!1},checkSetOnDefault:function(){if(this.isDefaultCurentPreset())return dfd_header_b.Helper.hideSetting(),!1;dfd_header_b.Helper.showSetting()},saveChanges:function(a){var b=dfd_header_b.APP.presets.findWhere({isActive:"active"});if(_.isObject(b)){if(1==b.get("isDefault"))return 1!=a&&null!=a||alert("This is default preset. You can't edit this only copy enable"),!1}var c=[];if(0==dfd_header_b.Config.isnew){var d=dfd_header_b.APP.Sortable.getValuesFormAllCells(),e=JSON.stringify(d,["name","type","isfullwidth"]);c=JSON.parse(e),dfd_header_b.Config.setPresetByView(c)}dfd_header_b.APP.presets.trigger("addToOption"),dfd_header_b.Config.isnew=!1},normalizeGlobalSetting:function(){var a=dfd_header_b.Config.getGlobalSetting(),b=dfd_header_b.APP.globalSettingCollection.toJSON();if(a.length!=b.length){for(var c in b){var d=b[c],e=!1;for(var f in a){var g=a[f];if(d.id!=g.id);else{e=!0;var h=dfd_header_b.APP.globalSettingCollection.findWhere({id:d.id});h.set(g)}}if(!e){var h=dfd_header_b.APP.globalSettingCollection.findWhere({id:d.id});for(var i in dfd_header_b.PreSetting){var j=dfd_header_b.PreSetting[i];j.id==d.id&&h.set(j)}}}dfd_header_b.Config.setGlobalSetting(dfd_header_b.APP.globalSettingCollection.toJSON())}else dfd_header_b.APP.globalSettingCollection.reset(a),dfd_header_b.Config.setGlobalSetting(a)},normalizeLocalSetting:function(){var a=dfd_header_b.Config.getCurrentSetting(),b=dfd_header_b.APP.settingCollection.toJSON();if(a.length!=b.length){for(var c in b){var d=b[c],e=!1;for(var f in a){var g=a[f];if(d.id!=g.id);else{e=!0;var h=dfd_header_b.APP.settingCollection.findWhere({id:d.id});h.set(g)}}if(!e){var h=dfd_header_b.APP.settingCollection.findWhere({id:d.id});for(var i in dfd_header_b.PreSetting){var j=dfd_header_b.PreSetting[i];j.id==d.id&&h.set(j)}}}var b=dfd_header_b.APP.settingCollection.toJSON();dfd_header_b.Config.setSettingByView(b)}else dfd_header_b.APP.settingCollection.reset(a,{silent:!0}),dfd_header_b.Config.setSettingByView(a)},normalizeElementsCollection:function(){var a=dfd_header_b.Config.getCurrentPreset(),b=dfd_header_b.PremadeElements.el,c=[];for(var d in a){var e=a[d];for(var f in e){var g=e[f];if(g.length>0)for(var h in g){var i=g[h]
;_.isObject(i)&&"delimiter"!=i.type&&"spacer"!=i.type&&c.push(i)}}}if(c.length!=b.length)for(var j in b){var k=b[j],l=!1;for(var m in c){var n=c[m];_.isObject(i)&&n.type==k.type&&(l=!0)}l||c.push(k)}return c}}}(jQuery,window);var dfd_header_b=dfd_header_b||{};!function(a,b){"use strict";dfd_header_b.Model.Element=Backbone.Model.extend({defaults:{name:"",type:"",class_el:"",onlimit:!1,image:"",isfullwidth:!1},initialize:function(a,b){if(""==this.get("class_el")){var c=dfd_header_b.PremadeElements.el;for(var d in c){var e=c[d];if(e.type==this.get("type")){this.set("class_el",e.class_el);break}}}},validate:function(a,b){},parse:function(a){return a}})}(jQuery,window);var dfd_header_b=dfd_header_b||{};!function(){"use strict";dfd_header_b.Model.Preset=Backbone.Model.extend({defaults:{name:"",isActive:"",isDefault:!1,presetValues:{desktop:"",tablet:"",mobile:""},settings:{desktop:"",tablet:"",mobile:"",globals:""}},validate:function(a,b){var c=a.name;return""==c?"You must enter the name":dfd_header_b.APP.presets.where({name:c,isDefault:!1}).length>0?"Name '"+c+"' already exists":void 0},initialize:function(a,b){var c=this.cid,d=this.get("id");""!=d&&void 0!==d||this.set("id",c)},parse:function(a){return a}})}();var dfd_header_b=dfd_header_b||{};!function(){"use strict";dfd_header_b.Model.Setting=Backbone.Model.extend({defaults:{id:"",type:"",value:"",def:"",isGlobal:""},parse:function(a){return a}})}();var dfd_header_b=dfd_header_b||{};!function(){"use strict";dfd_header_b.Collection.Elements=Backbone.Collection.extend({model:dfd_header_b.Model.Element,parse:function(a){return a}}),dfd_header_b.APP.collection=new dfd_header_b.Collection.Elements,dfd_header_b.APP.collection_prev=new dfd_header_b.Collection.Elements,dfd_header_b.Collection.Presets=Backbone.Collection.extend({model:dfd_header_b.Model.Preset,parse:function(a){return a}}),dfd_header_b.APP.presets=new dfd_header_b.Collection.Presets}(jQuery);var dfd_header_b=dfd_header_b||{};!function(){"use strict";dfd_header_b.Collection.Settings=Backbone.Collection.extend({model:dfd_header_b.Model.Setting,parse:function(a){return a}}),dfd_header_b.APP.settingCollection=new dfd_header_b.Collection.Settings,dfd_header_b.APP.globalSettingCollection=new dfd_header_b.Collection.Settings}(jQuery);var dfd_header_b=dfd_header_b||{};!function(a){"use strict";dfd_header_b.View.MainElementView=Backbone.View.extend({mainTemplate:"",tagName:"div",tempname:"dfd_header_t_el",width:"",n_width:"",events:{"click .hover-controls .controls-out-tl .delete":"delete","click .hover-controls .controls-out-tl .fullwidth.active":"setFullwidth","touchstart .hover-controls .controls-out-tl .delete":"delete","touchstart .hover-controls .controls-out-tl .fullwidth.active":"setFullwidth"},delete:function(){this.$el.remove(),dfd_header_b.Helper.addLoader(),setTimeout(function(){dfd_header_b.Helper.saveChanges(),dfd_header_b.APP.Builder.build()},100)},setFullwidth:function(b){var c=(dfd_header_b.View.Setting.canShow(),b.target);this.$el.find(".hover-controls .controls-out-tl .fullwidth").removeClass("active"),a(c).hasClass("full")?this.$el.find(".hover-controls .controls-out-tl .inline").addClass("active"):this.$el.find(".hover-controls .controls-out-tl .full").addClass("active"),a(c).removeClass("active"),this.$el.toggleClass("fullwidth");var d=1!=this.model.get("isfullwidth");this.model.set({isfullwidth:d}),dfd_header_b.Helper.saveChanges();var e=this.$el.parent();e.css({display:"table"}),setTimeout(function(){e.css({display:"block"}),dfd_header_b.Helper.claerTransformMiddleBlock(),dfd_header_b.Helper.RoundContentTransform()},100)},className:function(){return this.model.get("class_el")+" c_el port"},id:function(){return this.model.get("id")},getTemp:function(b){return a("#dfd_header_t_el_"+b)},getTtype:function(){var a=this.model.get("type"),b=this.getTemp(a);switch(a){case"logo":var c=dfd_header_b.APP.globalSettingCollection.findWhere({id:"logo_header_builder"}),d=c.get("value"),e=JSON.parse(d);""==e.thumb&&(e.thumb=dfd_header_b_local_settings.logo_url);var f=dfd_header_b.Helper.getBigImgFromthumb(e.thumb);this.model.set("image",f);break;case"text":var g=dfd_header_b.APP.globalSettingCollection.findWhere({id:"header_copyright_builder"}),h=g.get("value");this.model.set("value",h);break;case"telephone":var g=dfd_header_b.APP.globalSettingCollection.findWhere({id:"header_telephone_builder"}),h=g.get("value");this.model.set("value",h);break;case"info":break;case"buttonel":var g=dfd_header_b.APP.globalSettingCollection.findWhere({id:"header_button_text_builder"}),h=g.get("value");this.model.set("value",h)}b.length?(this.temp=_.template(b.html()),this.model.set("temp",this.temp(this.model.toJSON()))):this.model.set("temp",""),this.model.set("id",this.model.cid)},initialize:function(){this.mainTemplate=_.template(a("#"+this.tempname).html()),this.getTtype()},render:function(){return this}}),dfd_header_b.View.ElementView=dfd_header_b.View.MainElementView.extend({render:function(){this.$el.html(this.mainTemplate(this.model.toJSON())),this.$el.attr("data-id",this.model.get("id"));var b=this.model.get("id"),c=a(dfd_header_b.HTMLEntity.MainBlocks.controls);return c.find("#"+b).remove(),c.append(this.el),this}}),dfd_header_b.View.ElementPrevView=dfd_header_b.View.MainElementView.extend({render:function(){var a=this;this.$el.html(this.mainTemplate(this.model.toJSON())),this.$el.attr("data-id",this.model.get("id"));var b=(this.model.get("type"),this.model.get("isfullwidth")),c=dfd_header_b.View.Setting.canShow();return 1!=b||c||a.$el.addClass("fullwidth"),this}})}(jQuery);var dfd_header_b=dfd_header_b||{};!function(a){"use strict";dfd_header_b.View.AppView=Backbone.View.extend({el:".header_builder_app",mainTemplate:"",events:{"click #open-preset-window":"openPresetWindow","click #add_preset":"addPresetWindow","click .close-notify ":"closeNotify"},initialize:function(){this.listenTo(this,"all",_.debounce(this.render,0)),this.listenTo(dfd_header_b.APP.collection,"all",_.debounce(this.render,0)),this.listenTo(this,"initSortable",_.debounce(this.initSortable,0)),this.listenTo(dfd_header_b.APP.collection,"add",_.debounce(this.add,0)),this.listenTo(dfd_header_b.APP.collection,"reset",_.debounce(this.reset,0)),this.listenTo(dfd_header_b.APP.settingCollection,"reset",this.buildSettings),this.listenTo(dfd_header_b.APP.collection,"change",_.debounce(this.change,0)),this.listenTo(dfd_header_b.APP.collection,"reInit",_.debounce(this.reInit,0)),this.listenTo(dfd_header_b.APP.presets,"all",_.debounce(this.changeNamePreset,0)),this.listenTo(dfd_header_b.APP.presets,"addToOption",_.debounce(this.AddToOption,0)),this.listenTo(this,"firstStart",this.firstStart()),this.firstStart(),this.PresetNameTemplate=_.template(a("#dfd_header_t_presetname").html()),this.hideReduxLeftSideBar();var b=this;a(dfd_header_b.HTMLEntity.resetBtn).on("click",function(c){a(this).hasClass("reset")?b.resetToDefault():(dfd_header_b.Helper.addLoader(),b.clickChangeView(c))})},resetToDefault:function(){if(dfd_header_b.Helper.isDefaultCurentPreset())return alert("It's default preset. Pleaase copy it to make changes"),!1;if(!confirm("All elements and settings will be reset to default. Are you shure?"))return!1;var a=dfd_header_b.Helper.getDefaultPresetAndSettingsVal(),b=a.preset,c=a.settings;dfd_header_b.Config.setPreset(b),dfd_header_b.Config.setSetting(c),dfd_header_b.Helper.addLoader(),dfd_header_b.changeslider=!0,dfd_header_b.Helper.checkSetOnDefault(),setTimeout(function(){dfd_header_b.APP.Builder.build(),dfd_header_b.Dependency.init(),dfd_header_b.Helper.saveChanges()},100)},addPresetWindow:function(){return tb_show("Add new preset","#TB_inline?width=750&height=600&inlineId=examplePopup1"),a("#TB_window").addClass("add-preset"),dfd_header_b.Config.isnew=!0,(new dfd_header_b.View.Add_Preset).render(),dfd_header_b.isClickedNewPreset=!0,!1},firstStart:function(){var a=dfd_header_b.Helper.getDefaultPresetAndSettingsVal(),b=a.preset,c=a.settings;dfd_header_b.Config.setPreset(b),dfd_header_b.Config.setSetting(c),dfd_header_b.Helper.addLoader(),dfd_header_b.changeslider=!0,dfd_header_b.APP.Builder.build(!1),dfd_header_b.Helper.checkSetOnDefault(),setTimeout(function(){dfd_header_b.APP.Builder.build()},100)},buildSettings:function(){var a=dfd_header_b.Config.getGlobalSetting();if(""!=a&&void 0!==a)return dfd_header_b.Helper.normalizeGlobalSetting(),dfd_header_b.Config.getGlobalSetting(),!1;dfd_header_b.APP.globalSettingCollection.reset();var b=dfd_header_b.APP.settingCollection.where({isGlobal:"true"});dfd_header_b.APP.settingCollection.remove(b),dfd_header_b.APP.globalSettingCollection.add(b),dfd_header_b.Config.setGlobalSetting(dfd_header_b.APP.globalSettingCollection.toJSON())},closeNotify:function(){var a=this.$el.find(".header-app-notify");a.find(".wrap").css({transform:"translateY(-100px)",opacity:"0"}),a.css("display","none"),setTimeout(function(){a.css("visibility","hidden")},100)},settingReset:function(){dfd_header_b.Config.setSettingByView(dfd_header_b.APP.settingCollection.toJSON())},settingResetInit:function(){dfd_header_b.View.Setting.init()},addNotiy:function(){if(0==dfd_header_b.isFirstStart&&1==dfd_header_b.isnotifyEnable){var a=this.$el.find(".header-app-notify");a.css({visibility:"visible",display:"block"});var b=a.find(".wrap");setTimeout(function(){b.css({transform:"translateY(0%)",opacity:"1"})},100),window.onbeforeunload=confirmOnPageExit}dfd_header_b.isFirstStart=!1,dfd_header_b.isnotifyEnable=!0},AddToOption:function(){var b=dfd_header_b.Helper.stringifyValus(),c=a(dfd_header_b.HTMLEntity.optionInput);c.prop("value",""),c.val(b),this.addNotiy()},changeNamePreset:function(){var a="",b=this.$el.find(".curent-preset-name-app");b.html("");var c=dfd_header_b.APP.presets.findWhere({isActive:"active"});_.isObject(c)&&(a=c.get("name")),b.append(this.PresetNameTemplate({preset_name:a}))},openPresetWindow:function(){dfd_header_b.Helper.openPresetWindow()},clickChangeView:function(b){var c=this,d=a(b.target),e=d.parent().siblings();e.removeClass("options-button-green"),e.addClass("options-button-green-border"),d.parent().removeClass("options-button-green-border"),d.parent().addClass("options-button-green");var f=d.data("val");switch(f){case"desktop":dfd_header_b.Config.setDesktopView();break;case"tablet":dfd_header_b.Config.setTabletView();break;case"mobile":dfd_header_b.Config.setMobileView()}c.$el.removeClass("tablet").removeClass("mobile").removeClass("desktop"),c.$el.addClass(f),setTimeout(function(){dfd_header_b.APP.Builder.build()},100)},add:function(a){new dfd_header_b.View.ElementView({model:a}).render()},change:function(a,b,c){},reInit:function(a,b,c){dfd_header_b.APP.collection.trigger("reset"),this.$el.find(".wrapper").removeAttr("style"),dfd_header_b.Helper.setDelimiterWidth(),dfd_header_b.Helper.claerTransformMiddleBlock(),dfd_header_b.Helper.RoundContentTransform(),dfd_header_b.Helper.removeLoader()},reset:function(a,b){this.$el.find("#dfd_header_t_controls").html(""),dfd_header_b.APP.collection.each(this.add,this),this.trigger("initSortable")},hideReduxLeftSideBar:function(){var b=this.$el.parentsUntil(".redux-group-tab"),c=a(b[4]).parent();c.find("h2:first-child").append("<span> (Beta v0.1)</span>"),c.addClass("header_builder_redux_tab"),b.find("tr:first-child > th").hide(),b.find("tr:first-child > td").attr("colspan",2);var d=a(".redux-sections-wrap .redux-sidebar"),e=_.template(a("#dfd_header_t_el_preset").html());d.append(e()),(new dfd_header_b.View.Presets_View).render()},initSortable:function(){dfd_header_b.APP.Sortable.init()},render:function(){return this}})}(jQuery);var dfd_header_b=dfd_header_b||{};!function(a){"use strict";dfd_header_b.View.SettingsView=Backbone.View.extend({el:"#71_section_group",mainTemplate:"",events:{},initialize:function(){var b=a("input[name='"+dfd_header_b.View.Setting.BtnShowTopPanel+"']"),c=a("input[name='"+dfd_header_b.View.Setting.BtnShowMidPanel+"']"),d=a("input[name='"+dfd_header_b.View.Setting.BtnShowBotPanel+"']"),e=a("input[name='"+dfd_header_b.View.Setting.BtnTopAbstract+"']"),f=a("input[name='"+dfd_header_b.View.Setting.BtnMidAbstract+"']"),g=a("input[name='"+dfd_header_b.View.Setting.BtnBotAbstract+"']"),h=a("input[name='"+dfd_header_b.View.Setting.BtnLogoImg+"[id]']"),i=a("input[name='"+dfd_header_b.View.Setting.BtnRetinaLogoImg+"[id]']"),j=(a("input[name='"+dfd_header_b.View.Setting.BtnTopBgColor+"']"),a("input[name='"+dfd_header_b.View.Setting.BtnSticky+"']"));a("input[name='"+dfd_header_b.View.Setting.BtnsliderTopHeight+"']");e.next().on("click",function(a){dfd_header_b.View.Input.triggerBtn.triggerOptionLocal("set_top_panel_abstract_builder")}),f.next().on("click",function(a){dfd_header_b.View.Input.triggerBtn.triggerOptionLocal("set_mid_panel_abstract_builder")}),g.next().on("click",function(a){dfd_header_b.View.Input.triggerBtn.triggerOptionLocal("set_bot_panel_abstract_builder")}),b.next().on("click",function(a){dfd_header_b.View.Setting.triggerOption("show_top_panel_builder")}),c.next().on("click",function(a){dfd_header_b.View.Setting.triggerOption("show_mid_panel_builder")}),d.next().on("click",function(a){dfd_header_b.View.Setting.triggerOption("show_bot_panel_builder")}),h.on("change",this,function(a){dfd_header_b.View.Setting.triggerImageGlobal("logo_header_builder")}),i.on("change",this,function(a){dfd_header_b.View.Setting.triggerImageGlobal("retina_logo_header_builder")}),j.next().on("click",function(a){dfd_header_b.View.Input.triggerBtn.triggerOption("header_sticky_builder")})},changeCheckbox:function(a){return a.preventDefault(),!1},render:function(){return this}}),dfd_header_b.View.Setting={BtnShowTopPanel:"native[show_top_panel_builder]",BtnShowMidPanel:"native[show_mid_panel_builder]",BtnShowBotPanel:"native[show_bot_panel_builder]",BtnTopAbstract:"native[set_top_panel_abstract_builder]",BtnMidAbstract:"native[set_mid_panel_abstract_builder]",BtnBotAbstract:"native[set_bot_panel_abstract_builder]",BtnLogoImg:"native[logo_header_builder]",BtnRetinaLogoImg:"native[retina_logo_header_builder]",BtnTopBgColor:"native[header_top_background_color_build]",BtnSticky:"native[header_sticky_builder]",BtnsliderTopHeight:"native[top_header_height_builder]",getValueByName:function(a){var b="getObj_"+a;return dfd_header_b.View.Setting[b]().val()},getObj_show_top_panel_builder:function(){return a("input:checked[name='"+this.BtnShowTopPanel+"']")},getObj_show_mid_panel_builder:function(){return a("input:checked[name='"+this.BtnShowMidPanel+"']")},getObj_show_bot_panel_builder:function(){return a("input:checked[name='"+this.BtnShowBotPanel+"']")},getObj_set_top_panel_abstract_builder:function(){return a("input:checked[name='"+this.BtnTopAbstract+"']")},getObj_set_mid_panel_abstract_builder:function(){return a("input:checked[name='"+this.BtnMidAbstract+"']")},getObj_set_bot_panel_abstract_builder:function(){return a("input:checked[name='"+this.BtnBotAbstract+"']")},getObj_header_sticky_builder:function(){return a("input:checked[name='"+this.BtnSticky+"']")},getObj_logo_header_builder:function(){var b={};return b.id=a("input[name='"+this.BtnLogoImg+"[id]']"),b.thumb=a("input[name='"+this.BtnLogoImg+"[thumbnail]']"),b},getObj_retina_logo_header_builder:function(){var b={};return b.id=a("input[name='"+this.BtnRetinaLogoImg+"[id]']"),b.thumb=a("input[name='"+this.BtnRetinaLogoImg+"[thumbnail]']"),b},init:function(){var a=dfd_header_b.Config.getCurrentSetting();this.settingFactoryInit(a);var b=dfd_header_b.Config.getGlobalSetting();this.settingFactoryInit(b,!0);var c=this;setTimeout(function(){c.reInit()},100),dfd_header_b.isInitColorPicker=!0,dfd_header_b.isInitSlider=!0,dfd_header_b.changeslider=!1},settingFactoryInit:function(a,b){for(var c in a){var d=a[c];if(null!=d)switch(d.type){case"trigger":dfd_header_b.View.Input.triggerBtn.init(d);break;case"image":dfd_header_b.View.Input.image.init(d);break;case"colorpicker":dfd_header_b.View.Input.colorpicker.init(d);break;case"slider":dfd_header_b.View.Input.slider.init(d);break;case"image_select":dfd_header_b.View.Input.image_select.init(d);break;case"radio":dfd_header_b.View.Input.radio.init(d);break;case"text":dfd_header_b.View.Input.text.init(d);break;case"telephone":dfd_header_b.View.Input.telephone.init(d)}}},reInit:function(){setTimeout(function(){var b=a("#dfd_header_t_preview .container.row.top"),c=a("#native-set_top_panel_abstract_builder").parent().parent(),d=a("#native-header_top_background_color_build").parent().parent(),e=a("#native-header_top_text_color_build").parent().parent(),f=a("#dfd_header_t_preview .container.row.middle"),g=a("#native-set_mid_panel_abstract_builder").parent().parent(),h=a("#native-header_mid_background_color_build").parent().parent(),i=a("#native-header_mid_text_color_build").parent().parent(),j=a("#dfd_header_t_preview .container.row.bottom"),k=a("#native-set_bot_panel_abstract_builder").parent().parent(),l=a("#native-header_bot_background_color_build").parent().parent(),m=a("#native-header_bot_text_color_build").parent().parent();"side"==dfd_header_b.View.Setting.getHeaderStyle()&&"desktop"==dfd_header_b.Config.getCurentView()?(c.hide(),d.hide(),e.show(),g.hide(),h.hide(),i.show(),k.hide(),l.hide(),m.show()):(dfd_header_b.View.Setting.isShowTopPanel()?(b.show(),c.show(),d.show(),e.show()):(b.hide(),c.hide(),d.hide(),e.hide()),dfd_header_b.View.Setting.isShowMidPanel()?(f.show(),g.show(),h.show(),i.show()):(f.hide(),g.hide(),h.hide(),i.hide()),dfd_header_b.View.Setting.isShowBotPanel()?(j.show(),k.show(),l.show(),m.show()):(j.hide(),k.hide(),l.hide(),m.hide())),a("#dfd_header_t_preview .container").css({"border-bottom-width":"0px"}),a("#dfd_header_t_preview .container:visible").last().css({"border-bottom-width":"1px","border-bottom-style":"solid"})},100)},triggerImageGlobal:function(a){setTimeout(function(){var b=dfd_header_b.APP.globalSettingCollection.findWhere({id:a}),c="getObj_"+a,d=dfd_header_b.View.Setting[c](),e={id:d.id.val(),thumb:d.thumb.val()},f=JSON.stringify(e);b.set({value:f}),dfd_header_b.Config.setGlobalSetting(dfd_header_b.APP.globalSettingCollection.toJSON()),dfd_header_b.Helper.saveChanges(),dfd_header_b.APP.Builder.build()},100)},triggerOption:function(a){var b=this;setTimeout(function(){b.useCheckbox(a),dfd_header_b.View.Setting.reInit()},200)},useCheckbox:function(a){var b=dfd_header_b.Config.getCurrentSetting();dfd_header_b.APP.settingCollection.reset(),dfd_header_b.APP.settingCollection.reset(b);var c=dfd_header_b.APP.settingCollection.findWhere({id:a});if(!_.isObject(c)){dfd_header_b.APP.settingCollection.reset(dfd_header_b.PreSetting),dfd_header_b.Config.setSettingByView(dfd_header_b.APP.settingCollection.toJSON());var c=dfd_header_b.APP.settingCollection.findWhere({id:a})}var d="getObj_"+a,e=dfd_header_b.View.Setting[d]().val();c.set({value:e}),dfd_header_b.Config.setSettingByView(dfd_header_b.APP.settingCollection.toJSON()),dfd_header_b.Helper.saveChanges(),dfd_header_b.APP.Builder.build(!1)},isShowTopPanel:function(){return"on"==a("input:checked[name='"+this.BtnShowTopPanel+"']").val()},isShowMidPanel:function(){return"on"==a("input:checked[name='"+this.BtnShowMidPanel+"']").val()},isShowBotPanel:function(){return"on"==a("input:checked[name='"+this.BtnShowBotPanel+"']").val()},getHeaderStyleFromObj:function(){return a("input:checked[name='native[style_header_builder]']").val()},canShow:function(){var a=this.getHeaderStyleFromObj(),b=dfd_header_b.Config.getCurentView();return"side"!=a||"desktop"!=b},getHeaderStyle:function(){var a=dfd_header_b.APP.globalSettingCollection.findWhere({id:"style_header_builder"});return _.isObject(a)?a.get("value"):""}},dfd_header_b.View.Input.triggerBtn={init:function(b){var c=b.id,d=this,e=a("input[name='native["+c+"]']"),f=a("input:checked[name='native["+c+"]']");e.removeAttr("checked"),e.each(function(){var c=a(this).val();"on"==c&&("on"==b.value&&a(this).prop("checked","checked"),""==b.value&&"on"==b.def&&a(this).prop("checked","checked")),"off"==c&&("off"==b.value&&a(this).prop("checked","checked"),""==b.value&&"off"==b.def&&a(this).prop("checked","checked"))});var g=a("input:checked[name='native["+c+"]']").val(),h=f.parent(),i=h.find(".button-animation"),j=h.find(".ui-corner-left"),k=h.find(".ui-corner-right");"on"==g&&(i.removeClass("right-active"),k.removeClass("ui-state-active"),j.addClass("ui-state-active")),"off"==g&&(i.addClass("right-active"),j.removeClass("ui-state-active"),k.addClass("ui-state-active")),setTimeout(function(){var b=a("input:checked[name='native["+c+"]']"),e=b.val();d.VisualReInit(c,e)},50)},VisualReInit:function(b,c){var d=function(a){"on"==c?a.addClass("absolute"):a.removeClass("absolute")};switch(b){case"set_top_panel_abstract_builder":var e=a("#dfd_header_t_preview .container.top");d(e);break;case"set_mid_panel_abstract_builder":var e=a("#dfd_header_t_preview .container.middle");d(e);break;case"set_bot_panel_abstract_builder":var e=a("#dfd_header_t_preview .container.bottom");d(e)}},triggerOptionLocal:function(b){var c=this;setTimeout(function(){var d=dfd_header_b.APP.settingCollection.findWhere({id:b});if(!_.isObject(d)){dfd_header_b.APP.settingCollection.reset(dfd_header_b.PreSetting),dfd_header_b.Config.setSettingByView(dfd_header_b.APP.settingCollection.toJSON());var d=dfd_header_b.APP.settingCollection.findWhere({id:b})}var e=a("input:checked[name='native["+b+"]']").val();d.set({value:e}),dfd_header_b.Config.setSettingByView(dfd_header_b.APP.settingCollection.toJSON()),dfd_header_b.Helper.saveChanges(),c.VisualReInit(b,e)},200)},triggerOption:function(a){setTimeout(function(){var b=dfd_header_b.APP.globalSettingCollection.findWhere({id:a}),c=dfd_header_b.View.Setting.getValueByName(a);b.set({value:c}),dfd_header_b.Config.setGlobalSetting(dfd_header_b.APP.globalSettingCollection.toJSON()),dfd_header_b.Helper.saveChanges()},200)}},dfd_header_b.View.Input.image={init:function(b){var c=this,d=b.id;if(""==b.value)return!1;var e=JSON.parse(b.value),f=a("input[name='native["+d+"][id]']"),g=a("input[name='native["+d+"][thumbnail]']"),h=f.parent().find(".buttons-cover"),i=f.parent();switch(d){case"bg_image_side_header_builder":0==dfd_header_b.isInitColorPicker&&(f.on("change",function(){c.VisualreInit(d),c.triggerOption(d)}),h.on("click",".remove-image",function(){c.VisualreInit(d),c.triggerOption(d)})),this.VisualreInit(d);break;case"logo_header_builder":""==e.thumb&&(e.thumb=dfd_header_b_local_settings.logo_url);break;case"retina_logo_header_builder":""==e.thumb&&(e.thumb=dfd_header_b_local_settings.retina_url)}f.val(e.id),g.val(e.thumb),i.find(".screenshot img").attr("src",e.thumb)},VisualreInit:function(b){setTimeout(function(){var c=dfd_header_b.View.Setting.getHeaderStyle(),d=dfd_header_b.Config.getCurentView(),e=(a("input[name='native["+b+"][id]']").val(),a("input[name='native["+b+"][thumbnail]']").val());switch(b){case"bg_image_side_header_builder":if("side"==c&&"desktop"==d){var f="";e&&(f=dfd_header_b.Helper.getBigImgFromthumb(e)),a("#dfd_header_t_preview .dfd_header_t_preview_wrapper").css({"background-image":"url("+f+")"})}else a("#dfd_header_t_preview .dfd_header_t_preview_wrapper").css({"background-image":"none"})}},100)},triggerOption:function(b,c){setTimeout(function(){var c=dfd_header_b.APP.globalSettingCollection.findWhere({id:b}),d={};d.id=a("input[name='native["+b+"][id]']"),d.thumb=a("input[name='native["+b+"][thumbnail]']");var e=d,f={id:e.id.val(),thumb:e.thumb.val()},g=JSON.stringify(f);c.set({value:g}),dfd_header_b.Config.setGlobalSetting(dfd_header_b.APP.globalSettingCollection.toJSON()),dfd_header_b.Helper.saveChanges()},100)}},dfd_header_b.View.Input.colorpicker={transparentImgUrl:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==)",init:function(b){var c=b.id;if(""==b.value)return!1;var d=JSON.parse(b.value),e=a("input[name='native["+c+"]']");"true"==b.hidetransparent&&e.parent().parent().parent().find(".color-transparency-check").hide();var f=e.parent().parent().find(".wp-color-result");"true"==d.is_transparent?(a("#"+c+"-transparency").prop("checked","true"),f.find("span").css({"background-image":this.transparentImgUrl}),e.val("transparent")):(""==d.color&&(d.color=b.def),setTimeout(function(){a("#"+c+"-transparency").removeAttr("checked"),f.find("span").css({background:d.color}),e.val(d.color)},200)),"true"==d.is_transparent?f.css({"background-image":this.transparentImgUrl}):(f.css({"background-image":"none"}),f.find("span").css("background-color",d.color)),0==dfd_header_b.isInitColorPicker&&this.event(b)},VisualreInit:function(b){var c=JSON.parse(b.value);switch("true"==c.is_transparent?c.color="transparent":""==c.color&&(c.color=b.def),b.id){case"header_top_background_color_build":var d=dfd_header_b.Helper.CanUseOptionInSideHeader();d&&(c.color="initial"),a("#dfd_header_t_preview .container.top").css("background-color",c.color);break;case"header_mid_background_color_build":var d=dfd_header_b.Helper.CanUseOptionInSideHeader();d&&(c.color="initial"),a("#dfd_header_t_preview .container.middle").css("background-color",c.color);break;case"header_bot_background_color_build":var d=dfd_header_b.Helper.CanUseOptionInSideHeader();d&&(c.color="initial"),a("#dfd_header_t_preview .container.bottom").css("background-color",c.color);break;case"header_top_text_color_build":a("#dfd_header_t_preview .container.top").css("color",c.color),a("#dfd_header_t_preview .container.top .dl-menuwrapper a span").css("background",c.color),a("#dfd_header_t_preview .container.top .top-inner-page > span span").css("background",c.color);break;case"header_mid_text_color_build":a("#dfd_header_t_preview .container.middle").css("color",c.color),a("#dfd_header_t_preview .container.middle .dl-menuwrapper a span").css("background",c.color),a("#dfd_header_t_preview .container.middle .top-inner-page > span span").css("background",c.color);break;case"header_bot_text_color_build":setTimeout(function(){a("#dfd_header_t_preview .container.bottom").css("color",c.color),a("#dfd_header_t_preview .container.bottom .dl-menuwrapper a span").css("background",c.color),a("#dfd_header_t_preview .container.bottom .top-inner-page > span span").css("background",c.color)},100);break;case"header_border_color_build":setTimeout(function(){a("#dfd_header_t_preview .container").css("border-color",c.color),a("#dfd_header_t_preview .dfd-header-delimiter").css("border-color",c.color),a("#dfd_header_t_preview .Delimiter").css("border-color",c.color)},200);break;case"header_side_background_color_builder":var d=dfd_header_b.Helper.CanUseOptionInSideHeader();d||(c.color="initial"),a("#dfd_header_t_preview .dfd_header_t_preview_wrapper").css({"background-color":c.color})}},trrigerOption:function(a,b){var c=dfd_header_b.APP.globalSettingCollection.findWhere({id:a.id});if(!_.isObject(c))var c=dfd_header_b.APP.settingCollection.findWhere({id:a.id});var d="",e="false";if(e="transparent"==b?"true":"false",""==b){if(""==(d=c.get("def")))for(var f in dfd_header_b.PreSetting){var g=dfd_header_b.PreSetting[f];if(g.id==a.id){d=g.def;break}}}else d=b;var h={color:d,is_transparent:e},i=JSON.stringify(h);if(a.value=i,!_.isObject(c))throw"not found model by id = "+a.id;c.set({value:i}),dfd_header_b.Config.setGlobalSetting(dfd_header_b.APP.globalSettingCollection.toJSON()),dfd_header_b.Config.setSettingByView(dfd_header_b.APP.settingCollection.toJSON()),dfd_header_b.Helper.saveChanges(),dfd_header_b.Helper.SetColor()},event:function(b){var c=b.id,d=this;setTimeout(function(){var e=0,f=a("input[name='native["+c+"]']"),g=f.parent().parent().parent(),h=g.find(".wp-color-result");g.find(".color-transparency-check input").on("change click",function(){var e=f.val();if(""==e){var g=a("#"+c+"-saved-color").val();e=g||a(this).parent().parent().find(".wp-picker-container a span").css("background-color"),a("input[name='native["+c+"]']").val(e)}d.trrigerOption(b,e)}),h.on("click",function(){var f=a(this),g=setInterval(function(){if(f.hasClass("wp-picker-open"));else{var h=a("input[name='native["+c+"]']").val();d.trrigerOption(b,h),clearInterval(g)}e++},500)})},300)}},dfd_header_b.View.Input.slider={init:function(b){var c=this,d=b.id,e=a("input[name='native["+d+"]']"),f=e.next(),g=f.data("max"),h=(b.value-35)/g*100;h+="%",f.find(".noUi-background").css("left",h),e.val(b.value),1==dfd_header_b.changeslider&&setTimeout(function(){redux.args.disable_save_warn=!0,e.trigger("change"),a("#redux_notification_bar").remove()},100),this.visualReInit(b,b.value),0==dfd_header_b.isInitSlider&&c.event(b)},event:function(b){var c=b.id,d=this,e=a("input[name='native["+c+"]']");e.on("blur",function(){var a=e.val();d.triggerOption(b,a)}),e.next().on("change",function(){var a=e.val();d.triggerOption(b,a)})},visualReInit:function(b,c){var d=c+"px";switch(b.id){case"top_header_height_builder":dfd_header_b.Helper.CanUseOptionInSideHeader()||a("#dfd_header_t_preview .container.top").css({height:d,"min-height":d,"line-height":d});break;case"mid_header_height_builder":dfd_header_b.Helper.CanUseOptionInSideHeader()||a("#dfd_header_t_preview .container.middle").css({height:d,"min-height":d,"line-height":d});break;case"bot_header_height_builder":dfd_header_b.Helper.CanUseOptionInSideHeader()||a("#dfd_header_t_preview:not(.side-header) .container.bottom").css({height:d,"min-height":d,"line-height":d});break;case"header_side_bar_width_builder":var e=dfd_header_b.View.Setting.getHeaderStyle(),f=dfd_header_b.Config.getCurentView();"side"==e&&"desktop"==f?a("#dfd_header_t_preview .dfd_header_t_preview_wrapper").css({width:d}):a("#dfd_header_t_preview .dfd_header_t_preview_wrapper").css({width:"100%"}),dfd_header_b.Helper.setDelimiterWidth(),dfd_header_b.Helper.SetColor()}dfd_header_b.Helper.calculateOptimalLogoWidth()},triggerOption:function(a,b){var c=dfd_header_b.APP.globalSettingCollection.findWhere({id:a.id});if(!_.isObject(c))throw"not found model by id = "+a.id;c.set({value:b}),dfd_header_b.Config.setGlobalSetting(dfd_header_b.APP.globalSettingCollection.toJSON()),dfd_header_b.Helper.saveChanges(),this.visualReInit(a,b)}},dfd_header_b.View.Input.image_select={init:function(b){var c=b.id,d=b.value,e=this,f=a("input[name='native["+c+"]']");a("input:checked[name='native["+c+"]']");f.removeAttr("checked"),f.each(function(){a(this).val()==d?(a(this).prop("checked","checked"),a(this).parent().addClass("redux-image-select-selected")):a(this).parent().removeClass("redux-image-select-selected")}),a("#dfd_header_t_preview .container.bottom").css({height:"","min-height":"","line-height":""}),0==dfd_header_b.isInitColorPicker&&f.parent().on("click",function(){return dfd_header_b.Helper.addLoader(),e.VisualReInit(c),e.triggerOption(c),!1}),this.VisualReInit(c)},VisualReInit:function(b){var c=(a("input[name='native["+b+"]']"),a("input:checked[name='native["+b+"]']")),d=a("#dfd_header_t_preview");switch(c.val()){case"horizontal":d.addClass("horiz-header"),d.removeClass("side-header"),d.removeClass("boxed-header");break;case"side":"desktop"==dfd_header_b.Config.getCurentView()&&(d.addClass("side-header"),d.removeClass("horiz-header"),d.removeClass("boxed-header"),a("#dfd_header_t_preview .container.bottom").css({height:"","min-height":"","line-height":""}));break;case"boxed":d.removeClass("side-header"),d.removeClass("horiz-header"),d.addClass("boxed-header")}},triggerOption:function(b){var c=a("#dfd_header_t_preview").scrollTop();a("body").scrollTop(c+500),setTimeout(function(){var c=dfd_header_b.APP.globalSettingCollection.findWhere({id:b}),d=a("input:checked[name='native["+b+"]']"),e=d.val();c.set({value:e}),dfd_header_b.Config.setGlobalSetting(dfd_header_b.APP.globalSettingCollection.toJSON()),dfd_header_b.Helper.saveChanges(),dfd_header_b.APP.Builder.build()},300)}},dfd_header_b.View.Input.radio={init:function(b){var c=b.id,d=b.value,e=this,f=a("input[name='native["+c+"]']");a("input:checked[name='native["+c+"]']");f.removeAttr("checked"),
f.each(function(){a(this).val()==d&&a(this).prop("checked","checked")}),0==dfd_header_b.isInitColorPicker&&f.parent().on("click",function(){e.VisualReInit(c),e.triggerOption(c)}),this.VisualReInit(c)},VisualReInit:function(b){setTimeout(function(){var c=a("input:checked[name='native["+b+"]']").val(),d=a("#dfd_header_t_preview");switch(b){case"header_alignment_builder":var e=["left","right"];dfd_header_b.Helper.classSwitcher(c,e,d,"header_alignment");break;case"header_content_alignment_builder":var e=["alignleft","alignright","aligncenter"];dfd_header_b.Helper.classSwitcher(c,e,d,"header_content_alignment");break;case"header_bg_position_builder":var e=["center-center","top","top-right","right","right-bottom","bottom","bottom-left","left","left-top"];dfd_header_b.Helper.classSwitcher(c,e,d,"header_bg_position");break;case"header_bg_size_builder":var e=["cover","contain","initial"];dfd_header_b.Helper.classSwitcher(c,e,d,"header_bg_size");break;case"header_bg_repeat_builder":var e=["repeat","no-repeat"];dfd_header_b.Helper.classSwitcher(c,e,d,"header_bg_repeat")}},100)},triggerOption:function(b){var c=dfd_header_b.APP.globalSettingCollection.findWhere({id:b}),d=a("input:checked[name='native["+b+"]']"),e=d.val();c.set({value:e}),dfd_header_b.Config.setGlobalSetting(dfd_header_b.APP.globalSettingCollection.toJSON()),dfd_header_b.Helper.saveChanges()}},dfd_header_b.View.Input.text={init:function(b){var c=this,d=b.id,e=b.value,f=a("input[name='native["+d+"]']");f.val(e),0==dfd_header_b.isInitColorPicker&&f.on("change",function(){c.triggerOption(d)})},triggerOption:function(b){setTimeout(function(){var c=dfd_header_b.APP.globalSettingCollection.findWhere({id:b}),d=a("input[name='native["+b+"]']"),e=d.val();c.set({value:e}),dfd_header_b.Config.setGlobalSetting(dfd_header_b.APP.globalSettingCollection.toJSON()),dfd_header_b.Helper.saveChanges(),dfd_header_b.APP.Builder.build(!1),dfd_header_b.Helper.SetColor()},100)}},dfd_header_b.View.Input.telephone={init:function(b){var c=this,d=b.id,e=b.value,f=a("input[name='native["+d+"]']");f.val(e),0==dfd_header_b.isInitColorPicker&&f.on("change",function(){c.triggerOption(d)})},triggerOption:function(b){setTimeout(function(){var c=dfd_header_b.APP.globalSettingCollection.findWhere({id:b}),d=a("input[name='native["+b+"]']"),e=d.val();c.set({value:e}),dfd_header_b.Config.setGlobalSetting(dfd_header_b.APP.globalSettingCollection.toJSON()),dfd_header_b.Helper.saveChanges(),dfd_header_b.APP.Builder.build(!1),dfd_header_b.Helper.SetColor()},100)}}}(jQuery);